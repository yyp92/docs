# æ€»ç»“

## react setStateæ˜¯åŒæ­¥è¿˜æ˜¯å¼‚æ­¥

setStateåªåœ¨åˆæˆäº‹ä»¶å’Œé’©å­å‡½æ•°ä¸­æ˜¯â€œå¼‚æ­¥â€çš„ï¼Œåœ¨åŸç”Ÿäº‹ä»¶å’ŒsetTimeout ä¸­éƒ½æ˜¯åŒæ­¥çš„ã€‚

### åŸå› 

- åœ¨Reactçš„setStateå‡½æ•°å®ç°ä¸­ï¼Œä¼šæ ¹æ®ä¸€ä¸ªå˜é‡isBatchingUpdatesåˆ¤æ–­æ˜¯ç›´æ¥æ›´æ–°this.stateè¿˜æ˜¯æ”¾åˆ°é˜Ÿåˆ—ä¸­å›å¤´å†è¯´ï¼Œè€ŒisBatchingUpdatesé»˜è®¤æ˜¯falseï¼Œä¹Ÿå°±è¡¨ç¤ºsetStateä¼šåŒæ­¥æ›´æ–°this.stateï¼Œä½†æ˜¯ï¼Œæœ‰ä¸€ä¸ªå‡½æ•°batchedUpdatesï¼Œè¿™ä¸ªå‡½æ•°ä¼šæŠŠisBatchingUpdatesä¿®æ”¹ä¸ºtrueï¼Œè€Œå½“Reactåœ¨è°ƒç”¨äº‹ä»¶å¤„ç†å‡½æ•°ä¹‹å‰å°±ä¼šè°ƒç”¨è¿™ä¸ªbatchedUpdatesï¼Œé€ æˆçš„åæœï¼Œå°±æ˜¯ç”±Reactæ§åˆ¶çš„äº‹ä»¶å¤„ç†è¿‡ç¨‹setStateä¸ä¼šåŒæ­¥æ›´æ–°this.state ã€‚

- å¯¹äºå¼‚æ­¥æ¸²æŸ“ï¼Œæˆ‘ä»¬åº”åœ¨ getSnapshotBeforeUpdate ä¸­è¯»å– stateã€props, è€Œä¸æ˜¯ componentWillUpdateã€‚ä½†è°ƒç”¨forceUpdate() å¼ºåˆ¶ render æ—¶ï¼Œä¼šå¯¼è‡´ç»„ä»¶è·³è¿‡ shouldComponentUpdate(),ç›´æ¥è°ƒç”¨ render()ã€‚

### æ³¨æ„

- setStateçš„â€œå¼‚æ­¥â€å¹¶ä¸æ˜¯è¯´å†…éƒ¨ç”±å¼‚æ­¥ä»£ç å®ç°ï¼Œå…¶å®æœ¬èº«æ‰§è¡Œçš„è¿‡ç¨‹å’Œä»£ç éƒ½æ˜¯åŒæ­¥çš„ï¼Œåªæ˜¯åˆæˆäº‹ä»¶å’Œé’©å­å‡½æ•°çš„è°ƒç”¨é¡ºåºåœ¨æ›´æ–°ä¹‹å‰ï¼Œå¯¼è‡´åœ¨åˆæˆäº‹ä»¶å’Œé’©å­å‡½æ•°ä¸­æ²¡æ³•ç«‹é©¬æ‹¿åˆ°æ›´æ–°åçš„å€¼ï¼Œå½¢å¼äº†æ‰€è°“çš„â€œå¼‚æ­¥â€ï¼Œå½“ç„¶å¯ä»¥é€šè¿‡ç¬¬äºŒä¸ªå‚æ•° setState(partialState, callback) ä¸­çš„callbackæ‹¿åˆ°æ›´æ–°åçš„ç»“æœã€‚
- setState çš„æ‰¹é‡æ›´æ–°ä¼˜åŒ–ä¹Ÿæ˜¯å»ºç«‹åœ¨â€œå¼‚æ­¥â€ï¼ˆåˆæˆäº‹ä»¶ã€é’©å­å‡½æ•°ï¼‰ä¹‹ä¸Šçš„ï¼Œåœ¨åŸç”Ÿäº‹ä»¶å’ŒsetTimeout ä¸­ä¸ä¼šæ‰¹é‡æ›´æ–°ï¼Œåœ¨â€œå¼‚æ­¥â€ä¸­å¦‚æœå¯¹åŒä¸€ä¸ªå€¼è¿›è¡Œå¤šæ¬¡setStateï¼ŒsetStateçš„æ‰¹é‡æ›´æ–°ç­–ç•¥ä¼šå¯¹å…¶è¿›è¡Œè¦†ç›–ï¼Œå–æœ€åä¸€æ¬¡çš„æ‰§è¡Œï¼Œå¦‚æœæ˜¯åŒæ—¶setStateå¤šä¸ªä¸åŒçš„å€¼ï¼Œåœ¨æ›´æ–°æ—¶ä¼šå¯¹å…¶è¿›è¡Œåˆå¹¶æ‰¹é‡æ›´æ–°ã€‚

### ä¾‹å­

```js
// setState å‚æ•°æ˜¯å¯¹è±¡ï¼Œå¦‚æœåŒæ—¶æ‰§è¡Œå¤šæ¬¡ï¼Œåªæœ‰ç¬¬ä¸€ä¸ªæ˜¯æœ‰æ•ˆçš„ï¼ˆå› ä¸ºReactä¼šæ‰¹å¤„ç†æœºåˆ¶ä¸­å­˜å‚¨çš„å¤šä¸ª setStateè¿›è¡Œåˆå¹¶ï¼‰
// setState å‚æ•°æ˜¯å‡½æ•°ï¼Œå¦‚æœåŒæ—¶æ‰§è¡Œå¤šæ¬¡ï¼Œåˆ™éƒ½æœ‰æ•ˆï¼ˆå¦‚æœéœ€è¦ç«‹é©¬å¾—åˆ°å€¼ï¼Œåˆ™å¯ä»¥åœ¨setSateä¼ é€’ç¬¬äºŒä¸ªå‚æ•°ä¸ºå‡½æ•°ï¼‰

class Example extends React.Component {
  constructor() {
    super();
    this.state = {
      val: 0
    };
  }

  componentDidMount() {
    this.setState({val: this.state.val + 1});
    console.log(this.state.val);    // ç¬¬ 1 æ¬¡ log

    this.setState({val: this.state.val + 1});
    console.log(this.state.val);    // ç¬¬ 2 æ¬¡ log

    setTimeout(() => {
      this.setState({val: this.state.val + 1});
      console.log(this.state.val);  // ç¬¬ 3 æ¬¡ log

      this.setState({val: this.state.val + 1});
      console.log(this.state.val);  // ç¬¬ 4 æ¬¡ log
    }, 0);
  }

  render() {
    return null;
  }

  // 0 0 2 3
};
```

### ç”Ÿå‘½å‘¨æœŸå¯¹æ¯”

#### v16.3

![react-life-16.3-before](../../imgs/react-life-16.3-before.png)

#### v16.4-after

![react-life-16.4-after](../../imgs/react-life-16.4-after.png)

## ä»€ä¹ˆæ˜¯é«˜é˜¶ç»„ä»¶ï¼Œè¯·ä¸¾ä¾‹è¯´æ˜

é«˜é˜¶ç»„ä»¶æ˜¯å‚æ•°ä¸ºç»„ä»¶ï¼Œè¿”å›å€¼ä¸ºæ–°ç»„ä»¶çš„å‡½æ•°ã€‚

## è§£é‡Šä¸€ä¸‹åŸå‹é“¾

### èµ„æ–™

https://github.com/mqyqingfeng/Blog/issues/2

### æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡

```js
function Person() {

}
var person = new Person();
person.name = 'Kevin';
console.log(person.name) // Kevin
```

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼ŒPerson å°±æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œæˆ‘ä»¬ä½¿ç”¨ new åˆ›å»ºäº†ä¸€ä¸ªå®ä¾‹å¯¹è±¡ personã€‚

### prototype

æ¯ä¸ªå‡½æ•°éƒ½æœ‰ä¸€ä¸ª prototype å±æ€§ï¼Œå°±æ˜¯æˆ‘ä»¬ç»å¸¸åœ¨å„ç§ä¾‹å­ä¸­çœ‹åˆ°çš„é‚£ä¸ª prototype ï¼Œæ¯”å¦‚ï¼š

```js
function Person() {

}
// è™½ç„¶å†™åœ¨æ³¨é‡Šé‡Œï¼Œä½†æ˜¯ä½ è¦æ³¨æ„ï¼š
// prototypeæ˜¯å‡½æ•°æ‰ä¼šæœ‰çš„å±æ€§
Person.prototype.name = 'Kevin';
var person1 = new Person();
var person2 = new Person();
console.log(person1.name) // Kevin
console.log(person2.name) // Kevin
```

å‡½æ•°çš„ prototype å±æ€§æŒ‡å‘äº†ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡æ­£æ˜¯è°ƒç”¨è¯¥æ„é€ å‡½æ•°è€Œåˆ›å»ºçš„**å®ä¾‹**çš„åŸå‹ï¼Œä¹Ÿå°±æ˜¯è¿™ä¸ªä¾‹å­ä¸­çš„ person1 å’Œ person2 çš„åŸå‹ã€‚

é‚£ä»€ä¹ˆæ˜¯åŸå‹å‘¢ï¼Ÿä½ å¯ä»¥è¿™æ ·ç†è§£ï¼šæ¯ä¸€ä¸ªJavaScriptå¯¹è±¡(nullé™¤å¤–)åœ¨åˆ›å»ºçš„æ—¶å€™å°±ä¼šä¸ä¹‹å…³è”å¦ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡å°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„åŸå‹ï¼Œæ¯ä¸€ä¸ªå¯¹è±¡éƒ½ä¼šä»åŸå‹"ç»§æ‰¿"å±æ€§ã€‚

è®©æˆ‘ä»¬ç”¨ä¸€å¼ å›¾è¡¨ç¤ºæ„é€ å‡½æ•°å’Œå®ä¾‹åŸå‹ä¹‹é—´çš„å…³ç³»ï¼š

![prototype-2](../../imgs/prototype-2.png)

åœ¨è¿™å¼ å›¾ä¸­æˆ‘ä»¬ç”¨ Object.prototype è¡¨ç¤ºå®ä¾‹åŸå‹ã€‚

é‚£ä¹ˆæˆ‘ä»¬è¯¥æ€ä¹ˆè¡¨ç¤ºå®ä¾‹ä¸å®ä¾‹åŸå‹ï¼Œä¹Ÿå°±æ˜¯ person å’Œ Person.prototype ä¹‹é—´çš„å…³ç³»å‘¢ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å°±è¦è®²åˆ°ç¬¬äºŒä¸ªå±æ€§ï¼š

### __proto__

è¿™æ˜¯æ¯ä¸€ä¸ªJavaScriptå¯¹è±¡(é™¤äº† null )éƒ½å…·æœ‰çš„ä¸€ä¸ªå±æ€§ï¼Œå«__proto__ï¼Œè¿™ä¸ªå±æ€§ä¼šæŒ‡å‘è¯¥å¯¹è±¡çš„åŸå‹ã€‚

ä¸ºäº†è¯æ˜è¿™ä¸€ç‚¹,æˆ‘ä»¬å¯ä»¥åœ¨ç«ç‹æˆ–è€…è°·æ­Œä¸­è¾“å…¥ï¼š

```js
function Person() {

}
var person = new Person();
console.log(person.__proto__ === Person.prototype); // true
```

å¦‚å›¾ï¼š

![prototype-3](../../imgs/prototype-3.png)

æ—¢ç„¶å®ä¾‹å¯¹è±¡å’Œæ„é€ å‡½æ•°éƒ½å¯ä»¥æŒ‡å‘åŸå‹ï¼Œé‚£ä¹ˆåŸå‹æ˜¯å¦æœ‰å±æ€§æŒ‡å‘æ„é€ å‡½æ•°æˆ–è€…å®ä¾‹å‘¢ï¼Ÿ

### Constructor

æŒ‡å‘å®ä¾‹å€’æ˜¯æ²¡æœ‰ï¼Œå› ä¸ºä¸€ä¸ªæ„é€ å‡½æ•°å¯ä»¥ç”Ÿæˆå¤šä¸ªå®ä¾‹ï¼Œä½†æ˜¯åŸå‹æŒ‡å‘æ„é€ å‡½æ•°å€’æ˜¯æœ‰çš„ï¼Œè¿™å°±è¦è®²åˆ°ç¬¬ä¸‰ä¸ªå±æ€§ï¼šconstructorï¼Œæ¯ä¸ªåŸå‹éƒ½æœ‰ä¸€ä¸ª constructor å±æ€§æŒ‡å‘å…³è”çš„æ„é€ å‡½æ•°ã€‚

```js
function Person() {

}
console.log(Person === Person.prototype.constructor); // true
```

å¦‚å›¾ï¼š

![prototype-4](../../imgs/prototype-4.png)

ç»¼ä¸Šæˆ‘ä»¬å·²ç»å¾—å‡ºï¼š

```js
function Person() {

}

var person = new Person();

console.log(person.__proto__ == Person.prototype) // true
console.log(Person.prototype.constructor == Person) // true
// é¡ºä¾¿å­¦ä¹ ä¸€ä¸ªES5çš„æ–¹æ³•,å¯ä»¥è·å¾—å¯¹è±¡çš„åŸå‹
console.log(Object.getPrototypeOf(person) === Person.prototype) // true
```

### å®ä¾‹ä¸åŸå‹

å½“è¯»å–å®ä¾‹çš„å±æ€§æ—¶ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œå°±ä¼šæŸ¥æ‰¾ä¸å¯¹è±¡å…³è”çš„åŸå‹ä¸­çš„å±æ€§ï¼Œå¦‚æœè¿˜æŸ¥ä¸åˆ°ï¼Œå°±å»æ‰¾åŸå‹çš„åŸå‹ï¼Œä¸€ç›´æ‰¾åˆ°æœ€é¡¶å±‚ä¸ºæ­¢ã€‚

ä¾‹å­ï¼š

```js
function Person() {

}

Person.prototype.name = 'Kevin';

var person = new Person();

person.name = 'Daisy';
console.log(person.name) // Daisy

delete person.name;
console.log(person.name) // Kevin
```

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ç»™å®ä¾‹å¯¹è±¡ person æ·»åŠ äº† name å±æ€§ï¼Œå½“æˆ‘ä»¬æ‰“å° person.name çš„æ—¶å€™ï¼Œç»“æœè‡ªç„¶ä¸º Daisyã€‚

ä½†æ˜¯å½“æˆ‘ä»¬åˆ é™¤äº† person çš„ name å±æ€§æ—¶ï¼Œè¯»å– person.nameï¼Œä» person å¯¹è±¡ä¸­æ‰¾ä¸åˆ° name å±æ€§å°±ä¼šä» person çš„åŸå‹ä¹Ÿå°±æ˜¯ person.__proto__ ï¼Œä¹Ÿå°±æ˜¯ Person.prototypeä¸­æŸ¥æ‰¾ï¼Œå¹¸è¿çš„æ˜¯æˆ‘ä»¬æ‰¾åˆ°äº† name å±æ€§ï¼Œç»“æœä¸º Kevinã€‚

### åŸå‹çš„åŸå‹

æˆ‘ä»¬å·²ç»è®²äº†åŸå‹ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ—¢ç„¶æ˜¯å¯¹è±¡ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”¨æœ€åŸå§‹çš„æ–¹å¼åˆ›å»ºå®ƒï¼Œé‚£å°±æ˜¯ï¼š

```js
var obj = new Object();
obj.name = 'Kevin'
console.log(obj.name) // Kevin
```

å…¶å®åŸå‹å¯¹è±¡å°±æ˜¯é€šè¿‡ Object æ„é€ å‡½æ•°ç”Ÿæˆçš„ï¼Œç»“åˆä¹‹å‰æ‰€è®²ï¼Œå®ä¾‹çš„ __proto__ æŒ‡å‘æ„é€ å‡½æ•°çš„ prototype ï¼Œæ‰€ä»¥æˆ‘ä»¬å†æ›´æ–°ä¸‹å…³ç³»å›¾ï¼š

![prototype-5](../../imgs/prototype-5.png)

### åŸå‹é“¾

é‚£ Object.prototype çš„åŸå‹å‘¢ï¼Ÿnull?

null è¡¨ç¤ºâ€œæ²¡æœ‰å¯¹è±¡â€ï¼Œå³è¯¥å¤„ä¸åº”è¯¥æœ‰å€¼ã€‚

```js
console.log(Object.prototype.__proto__ === null) // true
```

æ‰€ä»¥ Object.prototype.__proto__ çš„å€¼ä¸º null è·Ÿ Object.prototype æ²¡æœ‰åŸå‹ï¼Œå…¶å®è¡¨è¾¾äº†ä¸€ä¸ªæ„æ€ã€‚

æ‰€ä»¥æŸ¥æ‰¾å±æ€§çš„æ—¶å€™æŸ¥åˆ° Object.prototype å°±å¯ä»¥åœæ­¢æŸ¥æ‰¾äº†ã€‚

![prototype-6](../../imgs/prototype-6.png)

å›¾ä¸­ç”±ç›¸äº’å…³è”çš„åŸå‹ç»„æˆçš„é“¾çŠ¶ç»“æ„å°±æ˜¯åŸå‹é“¾ï¼Œä¹Ÿå°±æ˜¯è“è‰²çš„è¿™æ¡çº¿ã€‚

### æ€»ç»“

![prototype-1](../../imgs/prototype-1.png)

### è¡¥å……

#### constructor

```js
function Person() {

}
var person = new Person();
console.log(person.constructor === Person); // true
```

å½“è·å– person.constructor æ—¶ï¼Œå…¶å® person ä¸­å¹¶æ²¡æœ‰ constructor å±æ€§,å½“ä¸èƒ½è¯»å–åˆ°constructor å±æ€§æ—¶ï¼Œä¼šä» person çš„åŸå‹ä¹Ÿå°±æ˜¯ Person.prototype ä¸­è¯»å–ï¼Œæ­£å¥½åŸå‹ä¸­æœ‰è¯¥å±æ€§ï¼Œæ‰€ä»¥ï¼š

```js
person.constructor === Person.prototype.constructor
```

#### __proto__

å…¶æ¬¡æ˜¯ __proto__ ï¼Œç»å¤§éƒ¨åˆ†æµè§ˆå™¨éƒ½æ”¯æŒè¿™ä¸ªéæ ‡å‡†çš„æ–¹æ³•è®¿é—®åŸå‹ï¼Œç„¶è€Œå®ƒå¹¶ä¸å­˜åœ¨äº Person.prototype ä¸­ï¼Œå®é™…ä¸Šï¼Œå®ƒæ˜¯æ¥è‡ªäº Object.prototype ï¼Œä¸å…¶è¯´æ˜¯ä¸€ä¸ªå±æ€§ï¼Œä¸å¦‚è¯´æ˜¯ä¸€ä¸ª getter/setterï¼Œå½“ä½¿ç”¨ obj.__proto__ æ—¶ï¼Œå¯ä»¥ç†è§£æˆè¿”å›äº† Object.getPrototypeOf(obj)ã€‚

#### çœŸçš„æ˜¯ç»§æ‰¿å—ï¼Ÿ

æœ€åæ˜¯å…³äºç»§æ‰¿ï¼Œå‰é¢æˆ‘ä»¬è®²åˆ°â€œæ¯ä¸€ä¸ªå¯¹è±¡éƒ½ä¼šä»åŸå‹â€˜ç»§æ‰¿â€™å±æ€§â€ï¼Œå®é™…ä¸Šï¼Œç»§æ‰¿æ˜¯ä¸€ä¸ªååˆ†å…·æœ‰è¿·æƒ‘æ€§çš„è¯´æ³•ï¼Œå¼•ç”¨ã€Šä½ ä¸çŸ¥é“çš„JavaScriptã€‹ä¸­çš„è¯ï¼Œå°±æ˜¯ï¼š

ç»§æ‰¿æ„å‘³ç€å¤åˆ¶æ“ä½œï¼Œç„¶è€Œ JavaScript é»˜è®¤å¹¶ä¸ä¼šå¤åˆ¶å¯¹è±¡çš„å±æ€§ï¼Œç›¸åï¼ŒJavaScript åªæ˜¯åœ¨ä¸¤ä¸ªå¯¹è±¡ä¹‹é—´åˆ›å»ºä¸€ä¸ªå…³è”ï¼Œè¿™æ ·ï¼Œä¸€ä¸ªå¯¹è±¡å°±å¯ä»¥é€šè¿‡å§”æ‰˜è®¿é—®å¦ä¸€ä¸ªå¯¹è±¡çš„å±æ€§å’Œå‡½æ•°ï¼Œæ‰€ä»¥ä¸å…¶å«ç»§æ‰¿ï¼Œå§”æ‰˜çš„è¯´æ³•åè€Œæ›´å‡†ç¡®äº›ã€‚

## instanceofåŸç†

### typeof å®ç°åŸç†

`typeof` ä¸€èˆ¬è¢«ç”¨äºåˆ¤æ–­ä¸€ä¸ªå˜é‡çš„ç±»å‹ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ `typeof` æ¥åˆ¤æ–­`number`,  `string`,  `object`,  `boolean`,  `function`, `undefined`,  `symbol` è¿™ä¸ƒç§ç±»å‹ï¼Œè¿™ç§åˆ¤æ–­èƒ½å¸®åŠ©æˆ‘ä»¬æå®šä¸€äº›é—®é¢˜ï¼Œæ¯”å¦‚åœ¨åˆ¤æ–­ä¸æ˜¯ object ç±»å‹çš„æ•°æ®çš„æ—¶å€™ï¼Œ`typeof`èƒ½æ¯”è¾ƒæ¸…æ¥šçš„å‘Šè¯‰æˆ‘ä»¬å…·ä½“æ˜¯å“ªä¸€ç±»çš„ç±»å‹ã€‚ä½†æ˜¯ï¼Œå¾ˆé—æ†¾çš„ä¸€ç‚¹æ˜¯ï¼Œ`typeof` åœ¨åˆ¤æ–­ä¸€ä¸ª objectçš„æ•°æ®çš„æ—¶å€™åªèƒ½å‘Šè¯‰æˆ‘ä»¬è¿™ä¸ªæ•°æ®æ˜¯ object, è€Œä¸èƒ½ç»†è‡´çš„å…·ä½“åˆ°æ˜¯å“ªä¸€ç§ object, æ¯”å¦‚ğŸ‘‰

```js
let s = new String('abc');
typeof s === 'object'// true
s instanceof String // true
```

è¦æƒ³åˆ¤æ–­ä¸€ä¸ªæ•°æ®å…·ä½“æ˜¯å“ªä¸€ç§ object çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦åˆ©ç”¨ `instanceof` è¿™ä¸ªæ“ä½œç¬¦æ¥åˆ¤æ–­ã€‚

æ¥è°ˆè°ˆå…³äº `typeof` çš„åŸç†å§ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆæƒ³ä¸€ä¸ªå¾ˆæœ‰æ„æ€çš„é—®é¢˜ï¼Œjs åœ¨åº•å±‚æ˜¯æ€ä¹ˆå­˜å‚¨æ•°æ®çš„ç±»å‹ä¿¡æ¯å‘¢ï¼Ÿæˆ–è€…è¯´ï¼Œä¸€ä¸ª js çš„å˜é‡ï¼Œåœ¨å®ƒçš„åº•å±‚å®ç°ä¸­ï¼Œå®ƒçš„ç±»å‹ä¿¡æ¯æ˜¯æ€ä¹ˆå®ç°çš„å‘¢ï¼Ÿ

å…¶å®ï¼Œjs åœ¨åº•å±‚å­˜å‚¨å˜é‡çš„æ—¶å€™ï¼Œä¼šåœ¨å˜é‡çš„æœºå™¨ç çš„ä½ä½1-3ä½å­˜å‚¨å…¶ç±»å‹ä¿¡æ¯ğŸ‘‰

- 000ï¼šå¯¹è±¡
- 010ï¼šæµ®ç‚¹æ•°
- 100ï¼šå­—ç¬¦ä¸²
- 110ï¼šå¸ƒå°”
- 1ï¼šæ•´æ•°

ä½†æ˜¯å¯¹äº `undefined` å’Œ `null` æ¥è¯´ï¼Œè¿™ä¸¤ä¸ªå€¼çš„ä¿¡æ¯å­˜å‚¨æ˜¯æœ‰ç‚¹ç‰¹æ®Šçš„ã€‚

- `null`ï¼šæ‰€æœ‰æœºå™¨ç å‡ä¸º0
- `undefined`ï¼šç”¨ âˆ’2^30 æ•´æ•°æ¥è¡¨ç¤º

æ‰€ä»¥ï¼Œ`typeof` åœ¨åˆ¤æ–­ `null` çš„æ—¶å€™å°±å‡ºç°é—®é¢˜äº†ï¼Œç”±äº `null` çš„æ‰€æœ‰æœºå™¨ç å‡ä¸º0ï¼Œå› æ­¤ç›´æ¥è¢«å½“åšäº†å¯¹è±¡æ¥çœ‹å¾…ã€‚

ç”¨ `instanceof` æ¥åˆ¤æ–­çš„è¯ğŸ‘‰

```js
null instanceof null // TypeError: Right-hand side of 'instanceof' is not an object
```

`null` ç›´æ¥è¢«åˆ¤æ–­ä¸ºä¸æ˜¯ objectï¼Œè¿™ä¹Ÿæ˜¯ JavaScript çš„å†å²é—ç•™bugï¼Œå‚è€ƒ[typeof](https://link.juejin.cn/?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FJavaScript%2FReference%2FOperators%2Ftypeof)ã€‚

å› æ­¤åœ¨ç”¨ `typeof` æ¥åˆ¤æ–­å˜é‡ç±»å‹çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦æ³¨æ„ï¼Œæœ€å¥½æ˜¯ç”¨ `typeof` æ¥åˆ¤æ–­åŸºæœ¬æ•°æ®ç±»å‹ï¼ˆåŒ…æ‹¬`symbol`ï¼‰ï¼Œé¿å…å¯¹ null çš„åˆ¤æ–­ã€‚

è¿˜æœ‰ä¸€ä¸ªä¸é”™çš„åˆ¤æ–­ç±»å‹çš„æ–¹æ³•ï¼Œå°±æ˜¯**Object.prototype.toString**ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸ªæ–¹æ³•æ¥å¯¹ä¸€ä¸ªå˜é‡çš„ç±»å‹æ¥è¿›è¡Œæ¯”è¾ƒå‡†ç¡®çš„åˆ¤æ–­

```js
Object.prototype.toString.call(1) // "[object Number]"

Object.prototype.toString.call('hi') // "[object String]"

Object.prototype.toString.call({a:'hi'}) // "[object Object]"

Object.prototype.toString.call([1,'a']) // "[object Array]"

Object.prototype.toString.call(true) // "[object Boolean]"

Object.prototype.toString.call(() => {}) // "[object Function]"

Object.prototype.toString.call(null) // "[object Null]"

Object.prototype.toString.call(undefined) // "[object Undefined]"

Object.prototype.toString.call(Symbol(1)) // "[object Symbol]"
```

### instanceof æ“ä½œç¬¦çš„å®ç°åŸç†

ä¹‹å‰æåˆ°äº† `instanceof` æ¥åˆ¤æ–­å¯¹è±¡çš„å…·ä½“ç±»å‹ï¼Œå…¶å® `instanceof` ä¸»è¦çš„ä½œç”¨å°±æ˜¯åˆ¤æ–­**ä¸€ä¸ªå®ä¾‹æ˜¯å¦å±äºæŸç§ç±»å‹**ã€‚

```js
let person = function () {
}
let nicole = new person()
nicole instanceof person // true
```

å½“ç„¶ï¼Œ`instanceof` ä¹Ÿå¯ä»¥åˆ¤æ–­ä¸€ä¸ªå®ä¾‹æ˜¯å¦æ˜¯å…¶çˆ¶ç±»å‹æˆ–è€…ç¥–å…ˆç±»å‹çš„å®ä¾‹ã€‚

```js
let person = function () {
}
let programmer = function () {
}
programmer.prototype = new person()
let nicole = new programmer()
nicole instanceof person // true
nicole instanceof programmer // true
```

è¿™æ˜¯ `instanceof` çš„ç”¨æ³•ï¼Œä½†æ˜¯ `instanceof` çš„åŸç†æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæ ¹æ® ECMAScript è¯­è¨€è§„èŒƒï¼Œæˆ‘æ¢³ç†äº†ä¸€ä¸‹å¤§æ¦‚çš„æ€è·¯ï¼Œç„¶åæ•´ç†äº†ä¸€æ®µä»£ç å¦‚ä¸‹:

```js
function new_instance_of(leftVaule, rightVaule) { 
      // å–å³è¡¨è¾¾å¼çš„ prototype å€¼
    let rightProto = rightVaule.prototype;

      // å–å·¦è¡¨è¾¾å¼çš„__proto__å€¼
    leftVaule = leftVaule.__proto__; 

    while (true) {
        if (leftVaule === null) {
            return false;    
        }
        if (leftVaule === rightProto) {
            return true;    
        } 
        leftVaule = leftVaule.__proto__ 
    }
}
```

å…¶å® `instanceof` ä¸»è¦çš„å®ç°åŸç†**å°±æ˜¯åªè¦å³è¾¹å˜é‡çš„ `prototype` åœ¨å·¦è¾¹å˜é‡çš„åŸå‹é“¾ä¸Šå³å¯**ã€‚å› æ­¤ï¼Œ`instanceof` åœ¨æŸ¥æ‰¾çš„è¿‡ç¨‹ä¸­ä¼šéå†å·¦è¾¹å˜é‡çš„åŸå‹é“¾ï¼Œç›´åˆ°æ‰¾åˆ°å³è¾¹å˜é‡çš„ `prototype`ï¼Œå¦‚æœæŸ¥æ‰¾å¤±è´¥ï¼Œåˆ™ä¼šè¿”å› falseï¼Œå‘Šè¯‰æˆ‘ä»¬å·¦è¾¹å˜é‡å¹¶éæ˜¯å³è¾¹å˜é‡çš„å®ä¾‹ã€‚

ä¸¾ğŸŒ°

```js
function Foo() {
}

Object instanceof Object // true
Function instanceof Function // true
Function instanceof Object // true
Foo instanceof Foo // false
Foo instanceof Object // true
Foo instanceof Function // true
```

è¦æƒ³å…¨éƒ¨ç†è§£ `instanceof` çš„åŸç†ï¼Œé™¤äº†æˆ‘ä»¬åˆšåˆšæåˆ°çš„å®ç°åŸç†ï¼Œæˆ‘ä»¬è¿˜éœ€è¦çŸ¥é“ JavaScript çš„åŸå‹ç»§æ‰¿åŸç†ã€‚

å…³äºåŸå‹ç»§æ‰¿çš„åŸç†ï¼Œå¦‚å›¾ï¼š

![prototype-7](../../imgs/prototype-7.png)

æˆ‘ä»¬çŸ¥é“æ¯ä¸ª JavaScript å¯¹è±¡å‡æœ‰ä¸€ä¸ªéšå¼çš„ `__proto__` åŸå‹å±æ€§ï¼Œè€Œæ˜¾å¼çš„åŸå‹å±æ€§æ˜¯ `prototype`ï¼Œåªæœ‰ `Object.prototype.__proto__` å±æ€§åœ¨æœªä¿®æ”¹çš„æƒ…å†µä¸‹ä¸º null å€¼ã€‚æ ¹æ®å›¾ä¸Šçš„åŸç†ï¼Œæˆ‘ä»¬æ¥æ¢³ç†ä¸Šé¢æåˆ°çš„å‡ ä¸ªæœ‰è¶£çš„ `instanceof` ä½¿ç”¨çš„ä¾‹å­ã€‚

- Object instanceof Object
  
  ç”±å›¾å¯çŸ¥ï¼ŒObject çš„ `prototype` å±æ€§æ˜¯ `Object.prototype`, è€Œç”±äº Object æœ¬èº«æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œç”± Function æ‰€åˆ›å»ºï¼Œæ‰€ä»¥ `Object.__proto__` çš„å€¼æ˜¯ `Function.prototype`ï¼Œè€Œ `Function.prototype` çš„ `__proto__` å±æ€§æ˜¯ `Object.prototype`ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åˆ¤æ–­å‡ºï¼Œ`Object instanceof Object` çš„ç»“æœæ˜¯ true ã€‚
  
  ```js
  leftValue = Object.__proto__ = Function.prototype;
  rightValue = Object.prototype;
  // ç¬¬ä¸€æ¬¡åˆ¤æ–­
  leftValue != rightValue
  leftValue = Function.prototype.__proto__ = Object.prototype
  // ç¬¬äºŒæ¬¡åˆ¤æ–­
  leftValue === rightValue
  // è¿”å› true
  ```

- Function instanceof Function
  
  ```js
  leftValue = Function.__proto__ = Function.prototype;
  rightValue = Function.prototype;
  // ç¬¬ä¸€æ¬¡åˆ¤æ–­
  leftValue === rightValue
  // è¿”å› true
  ```

- Function instanceof Object
  
  ```js
  leftValue = Function.__proto__ = Function.prototype;
  rightValue = Object.prototype;
  // ç¬¬ä¸€æ¬¡åˆ¤æ–­
  leftValue !== rightValue
  leftValue = Function.prototype.__proto__ = Object.prototype
  // ç¬¬äºŒæ¬¡åˆ¤æ–­
  leftValue === rightValue
  // è¿”å› true
  ```

- Foo instanceof Foo
  
  Foo å‡½æ•°çš„ `prototype` å±æ€§æ˜¯ `Foo.prototype`ï¼Œè€Œ Foo çš„ `__proto__` å±æ€§æ˜¯ `Function.prototype`ï¼Œç”±å›¾å¯çŸ¥ï¼ŒFoo çš„åŸå‹é“¾ä¸Šå¹¶æ²¡æœ‰ `Foo.prototype` ï¼Œå› æ­¤ `Foo instanceof Foo` ä¹Ÿå°±è¿”å› false ã€‚
  
  ```js
  leftValue = Foo, rightValue = Foo
  leftValue = Foo.__proto = Function.prototype
  rightValue = Foo.prototype
  // ç¬¬ä¸€æ¬¡åˆ¤æ–­
  leftValue != rightValue
  leftValue = Function.prototype.__proto__ = Object.prototype
  // ç¬¬äºŒæ¬¡åˆ¤æ–­
  leftValue != rightValue
  leftValue = Object.prototype.__proto__ = null
  // ç¬¬ä¸‰æ¬¡åˆ¤æ–­
  leftValue === null
  // è¿”å› false
  ```

- Foo instanceof Object
  
  ```js
  leftValue = Foo, rightValue = Object
  leftValue = Foo.__proto__ = Function.prototype
  rightValue = Object.prototype
  // ç¬¬ä¸€æ¬¡åˆ¤æ–­
  leftValue != rightValue
  leftValue = Function.prototype.__proto__ = Object.prototype
  // ç¬¬äºŒæ¬¡åˆ¤æ–­
  leftValue === rightValue
  // è¿”å› true 
  ```

- Foo instanceof Function
  
  ```js
  leftValue = Foo, rightValue = Function
  leftValue = Foo.__proto__ = Function.prototype
  rightValue = Function.prototype
  // ç¬¬ä¸€æ¬¡åˆ¤æ–­
  leftValue === rightValue
  // è¿”å› true 
  ```

### æ€»ç»“

ç®€å•æ¥è¯´ï¼Œæˆ‘ä»¬ä½¿ç”¨ `typeof` æ¥åˆ¤æ–­åŸºæœ¬æ•°æ®ç±»å‹æ˜¯ ok çš„ï¼Œä¸è¿‡éœ€è¦æ³¨æ„å½“ç”¨ `typeof` æ¥åˆ¤æ–­ `null` ç±»å‹æ—¶çš„é—®é¢˜ï¼Œå¦‚æœæƒ³è¦åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡çš„å…·ä½“ç±»å‹å¯ä»¥è€ƒè™‘ç”¨ `instanceof`ï¼Œä½†æ˜¯ `instanceof` ä¹Ÿå¯èƒ½åˆ¤æ–­ä¸å‡†ç¡®ï¼Œæ¯”å¦‚ä¸€ä¸ªæ•°ç»„ï¼Œä»–å¯ä»¥è¢« `instanceof` åˆ¤æ–­ä¸º Objectã€‚æ‰€ä»¥æˆ‘ä»¬è¦æƒ³æ¯”è¾ƒå‡†ç¡®çš„åˆ¤æ–­å¯¹è±¡å®ä¾‹çš„ç±»å‹æ—¶ï¼Œå¯ä»¥é‡‡å– `Object.prototype.toString.call` æ–¹æ³•ã€‚

## applyå’Œcallçš„ä½œç”¨åŠåŒºåˆ«

ä½œç”¨éƒ½æ˜¯æ”¹å˜å‡½æ•°æ‰§è¡Œæ—¶å†…éƒ¨thisçš„æŒ‡å‘ï¼Œä¸åŒç‚¹æ˜¯å‡½æ•°çš„ä¼ å‚æ–¹å¼ï¼Œcallæ¥å—çš„æ˜¯ä¸€ä¸ªå‚æ•°åˆ—è¡¨ï¼Œapplyæ¥å—çš„æ˜¯ä¸€ä¸ªåŒ…å«å¤šä¸ªå‚æ•°çš„æ•°ç»„ã€‚

[èµ„æ–™](https://segmentfault.com/a/1190000018017796)

## positionæœ‰å“ªäº›å€¼ï¼Œä½œç”¨åˆ†åˆ«æ˜¯ä»€ä¹ˆ

static(é™æ€):htmlå…ƒç´ çš„é»˜è®¤å€¼ï¼Œä¸å—topã€bottomã€leftã€rightå±æ€§å½±å“ï¼Œå…ƒç´ å‡ºç°åœ¨æ­£å¸¸æ–‡æ¡£æµä¸­ï¼›

relativeï¼ˆç›¸å¯¹ï¼‰ï¼šç›¸å¯¹å®šä½

ç‰¹ç‚¹ï¼šä¸è„±ç¦»æ–‡æ¡£æµçš„å¸ƒå±€ï¼Œå— topã€bottomã€leftã€rightå±æ€§å½±å“ï¼Œåªæ”¹å˜è‡ªèº«çš„ä½ç½®ï¼Œåœ¨æ–‡æ¡£æµåŸå…ˆçš„ä½ç½®é—ç•™ç©ºç™½åŒºåŸŸã€‚å®šä½çš„èµ·å§‹ä½ç½®ä¸ºæ­¤å…ƒç´ åŸå…ˆåœ¨æ–‡æ¡£æµçš„ä½ç½®ã€‚

absoluteï¼ˆç»å¯¹ï¼‰ï¼šç»å¯¹å®šä½

ç‰¹ç‚¹ï¼šè„±ç¦»æ–‡æ¡£æµçš„å¸ƒå±€ï¼Œé—ç•™ä¸‹æ¥çš„ç©ºé—´ç”±åé¢çš„å…ƒç´ å¡«å……ã€‚å®šä½çš„èµ·å§‹ä½ç½®ä¸ºæœ€è¿‘çš„çˆ¶å…ƒç´ ï¼ˆpositionä¸ä¸ºstaticï¼‰ï¼Œå¦åˆ™ä¸ºHTMLæ–‡æ¡£æœ¬èº«ã€‚

fixedï¼ˆå›ºå®šï¼‰ï¼šå›ºå®šå®šä½

ç‰¹ç‚¹ï¼šç±»ä¼¼äºabsoluteï¼Œä½†ä¸éšç€æ»šåŠ¨æ¡çš„ç§»åŠ¨è€Œæ”¹å˜ä½ç½®ã€‚å…ƒç´ çš„ä½ç½®ç›¸å¯¹äºæµè§ˆå™¨çª—å£æ˜¯å›ºå®šä½ç½®ã€‚

## DOMæ ‘çš„ç†è§£

DOMï¼ˆDocument Object Modelï¼‰å³æ–‡æ¡£å¯¹è±¡æ¨¡å‹

- DOMæ ‘æ­ç¤ºäº†DOMå¯¹è±¡ä¹‹é—´çš„å±‚æ¬¡å…³ç³»ï¼Œè¿™æ ·å°±æ–¹ä¾¿åŠ¨æ€åœ°å¯¹htmlæ–‡æ¡£è¿›è¡Œå¢åˆ æ”¹æŸ¥ã€‚

- å¢åˆ æ”¹æŸ¥å¿…é¡»è¦éµå¾ªå±‚æ¬¡å…³ç³»

- æ–‡æœ¬å¯¹è±¡æ˜¯æœ€åº•å±‚çš„èŠ‚ç‚¹

- è·å– å¯¹è±¡çš„å€¼ .value

[èµ„æ–™](https://blog.poetries.top/browser-working-principle/guide/part5/lesson22.html#%E4%BB%80%E4%B9%88%E6%98%AF-dom)

## é‡æ’å’Œé‡ç»˜æ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆåŒºåˆ«

[èµ„æ–™](https://juejin.cn/post/6844904083212468238)

### é‡ç»˜ä¸ä¸€å®šéœ€è¦é‡æ’(å›æµ)ï¼Œé‡æ’å¿…é¡»ä¼šå¯¼è‡´é‡ç»˜

- é‡æ’ï¼šå½“æ¸²æŸ“æ ‘çš„ä¸€éƒ¨åˆ†å¿…é¡»æ›´æ–°å¹¶ä¸”èŠ‚ç‚¹çš„å°ºå¯¸å‘ç”Ÿäº†å˜åŒ–ï¼Œæµè§ˆå™¨ä¼šä½¿æ¸²æŸ“æ ‘ä¸­å—åˆ°å½±å“çš„éƒ¨åˆ†å¤±æ•ˆï¼Œå¹¶é‡æ–°æ„é€ æ¸²æŸ“æ ‘ã€‚
  
  - æ·»åŠ ã€åˆ é™¤å¯è§çš„DOMï¼›
  - å…ƒç´ çš„ä½ç½®æ”¹å˜ï¼›
  - å…ƒç´ çš„å°ºå¯¸æ”¹å˜ï¼ˆå¤–è¾¹è·ã€å†…è¾¹è·ã€è¾¹æ¡†åšåº¦ã€å®½åº¦ç­‰å‡ ä½•å±æ€§ï¼‰ï¼›
  - é¡µé¢æ¸²æŸ“åˆå§‹åŒ–ï¼›
  - æµè§ˆå™¨çª—å£å°ºå¯¸æ”¹å˜ï¼›

- é‡ç»˜ï¼šæ˜¯åœ¨ä¸€ä¸ªå…ƒç´ çš„å¤–è§‚è¢«æ”¹å˜æ‰€è§¦å‘çš„æµè§ˆå™¨è¡Œä¸ºï¼Œæµè§ˆå™¨ä¼šæ ¹æ®å…ƒç´ çš„æ–°å±æ€§é‡æ–°ç»˜åˆ¶ï¼Œä½¿å…ƒç´ å‘ˆç°æ–°çš„å¤–è§‚ã€‚
  
  - æ¯”å¦‚background-color,è¿™äº›å±æ€§åªæ˜¯å½±å“å…ƒç´ çš„å¤–è§‚ï¼Œé£æ ¼ï¼Œè€Œä¸ä¼šå½±å“å¸ƒå±€ã€‚

### å‡å°‘reflow(é‡æ’/å›æµ)ï¼Œrepaint(é‡ç»˜)

- ä¸è¦ä¸€æ¡ä¸€æ¡çš„ä¿®æ”¹DOMæ ·å¼ï¼Œå¯ä»¥å…ˆå®šä¹‰å¥½CSSçš„classï¼Œç„¶åä¿®æ”¹DOMçš„classNameã€‚

- ä¸è¦æŠŠDOMèŠ‚ç‚¹çš„å±æ€§å€¼æ”¾åœ¨ä¸€ä¸ªå¾ªç¯é‡Œå½“æˆå¾ªç¯é‡Œçš„å˜é‡ã€‚

- ä¸ºåŠ¨ç”»çš„HTMLå…ƒç´ é€‚ç”¨fixedæˆ–absoluteçš„positionï¼Œé‚£ä¹ˆä¿®æ”¹å®ƒä»¬çš„CSSæ˜¯ä¸ä¼šreflowï¼ˆå› ä¸ºè„±ç¦»æ–‡æ¡£æµï¼‰ã€‚

### å›æµ

å½“render treeä¸­çš„ä¸€éƒ¨åˆ†ï¼ˆæˆ–å…¨éƒ¨ï¼‰å› ä¸ºå…ƒç´ çš„è§„æ¨¡å°ºå¯¸ï¼Œå¸ƒå±€ï¼Œéšè—ç­‰æ”¹å˜è€Œéœ€è¦é‡æ–°æ„å»ºã€‚æ¯ä¸ªé¡µé¢è‡³å°‘éœ€è¦å›æµä¸€æ¬¡ï¼Œåœ¨é¡µé¢ç¬¬ä¸€æ¬¡åŠ è½½çš„æ—¶å€™ã€‚å®Œæˆå›æµåï¼Œæµè§ˆå™¨ä¼šé‡æ–°ç»˜åˆ¶å—å½±å“çš„éƒ¨åˆ†åˆ°å±å¹•ä¸­ ï¼Œè¯¥è¿‡ç¨‹ç§°ä¸ºé‡ç»˜ã€‚

å›æµå¿…å°†å¼•èµ·é‡ç»˜ï¼Œè€Œé‡ç»˜ä¸ä¸€å®šä¼šå¼•èµ·å›æµã€‚eg: åªæœ‰é¢œè‰²æ”¹å˜çš„æ—¶å€™å°±åªä¼šå‘ç”Ÿé‡ç»˜è€Œä¸ä¼šå¼•èµ·å›æµã€‚

# js

## ç»§æ‰¿

https://github.com/mqyqingfeng/Blog/issues/16

## ä½œç”¨åŸŸ

https://github.com/mqyqingfeng/Blog/issues/6

## é—­åŒ…

https://github.com/mqyqingfeng/Blog/issues/9

## å˜é‡æå‡

https://github.com/mqyqingfeng/Blog/issues/5

å˜é‡å¯¹è±¡ä¼šåŒ…æ‹¬ï¼š

- å‡½æ•°çš„æ‰€æœ‰å½¢å‚ (å¦‚æœæ˜¯å‡½æ•°ä¸Šä¸‹æ–‡)
  
  - ç”±åç§°å’Œå¯¹åº”å€¼ç»„æˆçš„ä¸€ä¸ªå˜é‡å¯¹è±¡çš„å±æ€§è¢«åˆ›å»º
  - æ²¡æœ‰å®å‚ï¼Œå±æ€§å€¼è®¾ä¸º undefined

- å‡½æ•°å£°æ˜
  
  - ç”±åç§°å’Œå¯¹åº”å€¼ï¼ˆå‡½æ•°å¯¹è±¡(function-object)ï¼‰ç»„æˆä¸€ä¸ªå˜é‡å¯¹è±¡çš„å±æ€§è¢«åˆ›å»º
  - å¦‚æœå˜é‡å¯¹è±¡å·²ç»å­˜åœ¨ç›¸åŒåç§°çš„å±æ€§ï¼Œåˆ™å®Œå…¨æ›¿æ¢è¿™ä¸ªå±æ€§

- å˜é‡å£°æ˜
  
  - ç”±åç§°å’Œå¯¹åº”å€¼ï¼ˆundefinedï¼‰ç»„æˆä¸€ä¸ªå˜é‡å¯¹è±¡çš„å±æ€§è¢«åˆ›å»ºï¼›
  - å¦‚æœå˜é‡åç§°è·Ÿå·²ç»å£°æ˜çš„å½¢å¼å‚æ•°æˆ–å‡½æ•°ç›¸åŒï¼Œåˆ™å˜é‡å£°æ˜ä¸ä¼šå¹²æ‰°å·²ç»å­˜åœ¨çš„è¿™ç±»å±æ€§

## thisæŒ‡å‘

https://github.com/mqyqingfeng/Blog/issues/7

## ç«‹å³æ‰§è¡Œå‡½æ•°

https://segmentfault.com/a/1190000003985390

## instanceof åŸç†

https://juejin.cn/post/6844903613584654344

## bind æ¨¡æ‹Ÿå®ç°

https://github.com/mqyqingfeng/Blog/issues/12

## new æ¨¡æ‹Ÿå®ç°

https://github.com/mqyqingfeng/Blog/issues/13

## callå’Œapply æ¨¡æ‹Ÿå®ç°

https://github.com/mqyqingfeng/Blog/issues/11

- [ ] ## æŸ¯é‡ŒåŒ–

https://github.com/mqyqingfeng/Blog/issues/42

## v8åƒåœ¾å›æ”¶æœºåˆ¶

https://juejin.cn/post/6844904016325902344

## æµ®ç‚¹æ•°ç²¾åº¦

https://github.com/mqyqingfeng/Blog/issues/155

## äº‹ä»¶å¾ªç¯

https://zhuanlan.zhihu.com/p/33058983

## promiseåŸç†

https://juejin.cn/post/6844904063570542599

# css

## ç›’å­æ¨¡å‹

https://segmentfault.com/a/1190000013069516

## cssé€‰æ‹©å™¨

https://segmentfault.com/a/1190000013424772

### ä¼ªç±»ä¸ä¼ªå…ƒç´ çš„åŒºåˆ«

https://juejin.cn/post/6844903810951806989

## BFC

https://zhuanlan.zhihu.com/p/25321647

## position

https://developer.mozilla.org/zh-CN/docs/Learn/CSS/CSS_layout/Positioning

## flexå¸ƒå±€

https://developer.mozilla.org/zh-CN/docs/Web/CSS/CSS_Flexible_Box_Layout/Basic_Concepts_of_Flexbox

## cssä¼˜å…ˆçº§

https://zhuanlan.zhihu.com/p/41604775

## åœ£æ¯å¸ƒå±€å’ŒåŒé£ç¿¼å¸ƒå±€

https://juejin.cn/post/6844903817104850952

## css3æ–°ç‰¹æ€§

https://segmentfault.com/a/1190000010780991

## cssæ ·å¼éš”ç¦»

https://juejin.cn/post/6844904034281734151#heading-9

## cssæ€§èƒ½ä¼˜åŒ–

https://blog.csdn.net/weixin_43883485/article/details/103504171

## å±‚å ä¸Šä¸‹æ–‡

https://www.zhangxinxu.com/wordpress/2016/01/understand-css-stacking-context-order-z-index/

## divå±…ä¸­

https://juejin.cn/post/6844903821529841671

## csså¸é¡¶å¸åº•

https://segmentfault.com/a/1190000037641853

## æµ®åŠ¨

https://segmentfault.com/a/1190000012739764

# react

## useMemoå’ŒuseEffectæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿæ€ä¹ˆä½¿ç”¨useMemo?

useMemoï¼Œ useCallbackæ˜¯åœ¨domæ›´æ–°å‰è§¦å‘çš„ï¼Œ

useEffectæ˜¯åœ¨domæ›´æ–°ä¹‹åè§¦å‘çš„ã€‚

- ç›¸å½“äºç”Ÿå‘½å‘¨æœŸå‡½æ•°`componentDidMount`, `componentDidUpdate`, `componentWillUnmount`çš„ç»„åˆã€‚
- å¯ä»¥è¿”å›ä¸€ä¸ªå‡½æ•°(`cleanup`)ç”¨äºæ¸…ç†ã€‚

https://www.jianshu.com/p/94ace269414d

## åˆæˆäº‹ä»¶

- åŸç”Ÿäº‹ä»¶: åœ¨ `componentDidMountç”Ÿå‘½å‘¨æœŸ`é‡Œè¾¹è¿›è¡Œ`addEventListener`ç»‘å®šçš„äº‹ä»¶
- åˆæˆäº‹ä»¶: é€šè¿‡ JSX æ–¹å¼ç»‘å®šçš„äº‹ä»¶ï¼Œæ¯”å¦‚ `onClick={() => this.handle()}`

https://juejin.cn/post/6844903988794671117

## Virtual DOM

https://segmentfault.com/a/1190000019994425

## setState

https://juejin.cn/post/6844903781813993486

- [ ] ## fiber

https://zhuanlan.zhihu.com/p/57346388

https://github.com/HuJiaoHJ/blog/issues/7

- [ ] ## é«˜é˜¶ç»„ä»¶

https://zhuanlan.zhihu.com/p/24776678

- [ ] ## é”™è¯¯å¤„ç†

https://github.com/HuJiaoHJ/blog/issues/12

## æ€§èƒ½ä¼˜åŒ–

https://github.com/brickspert/blog/issues/36

# html & æµè§ˆå™¨

## è·¨æ ‡ç­¾é¡µé€šä¿¡

https://juejin.cn/post/6844903811232825357

## hashæ¨¡å¼å’Œ historyæ¨¡å¼

https://blog.csdn.net/Charissa2017/article/details/104779412

## ç¼“å­˜ç­–ç•¥

https://juejin.cn/post/6844903593275817998

# æ€§èƒ½

https://github.com/zoro-web/blog/issues/11

## å‰ç«¯æ€§èƒ½ä¼˜åŒ–æŒ‡æ ‡RAIL

https://juejin.cn/post/6850037273312886797

## å‰ç«¯æ€§èƒ½ä¼˜åŒ–æ‰‹æ®µ

https://alienzhou.com/projects/fe-performance-journey/#%E5%89%8D%E7%AB%AF%E9%9C%80%E8%A6%81%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E4%B9%88%EF%BC%9F

![æ€§èƒ½](../../imgs/æ€§èƒ½.svg)

## é¢„æ¸²æŸ“

https://tech.meituan.com/2018/11/15/first-contentful-paint-practice.html

- [ ] ## ä» URL è¾“å…¥åˆ°é¡µé¢å±•ç°åˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ

https://www.jianshu.com/p/d616d887953a

## ç™½å±

https://cloud.tencent.com/developer/article/1508941

- [ ] ## å¤§é‡å›¾ç‰‡åŠ è½½ä¼˜åŒ–

https://zhuanlan.zhihu.com/p/33370207

# å·¥ç¨‹

## æ¨¡å—åŒ–æœºåˆ¶

https://segmentfault.com/a/1190000017466120

## tree shaking

https://juejin.cn/post/6844903544756109319

## uglify

https://www.h5w3.com/19480.html

## babelåŸç†

https://bobi.ink/2019/10/01/babel/

## webpackå·¥ä½œæµç¨‹

https://developer.aliyun.com/article/61047

## webpack-æ’ä»¶æœºåˆ¶

https://juejin.cn/post/6844903789804126222
