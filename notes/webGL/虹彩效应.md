# 虹彩效应

## 介绍

彩虹色是一种光学现象，它使物体因光线的角度或视角的变化而改变颜色。正是由于这种效应，气泡才显现出各种颜色。

![](../../\images\iridescent-effect-1.jpg)

彩虹也可能发生在油、光驱、甚至鲜肉上。许多昆虫和动物使用彩虹色来创造色彩，而不需要实际的颜料。

![](../../\images\iridescent-effect-2.jpg)

这是因为彩虹是由光和微观结构之间的相互作用产生的，这些结构都是在它们的表面上存在的。cd - rom的轨迹和昆虫外骨骼的鳞片(下图)都与它们相互作用的光的波长大小相同。事实上，虹彩可能是第一个被发现的现象，它真的把光的真实本质作为一种波。我们不能解释或重现彩虹，而不首先了解光的真正含义，它是如何工作的，以及人眼如何感知它。

![](../../\images\iridescent-effect-3.jpg)

## 光的本质

像大多数亚原子粒子一样，光同时表现出通常与粒子和波相关联的行为。人们并不罕见地将光建模为其中一种。对于大多数应用来说，光可以被看作是由数以万亿计的被称为光子的粒子所组成。例如，大多数的着色器假设光子的行为就像微小的台球一样，以同样的角度在物体上弹跳(下图)。

![](../../\images\iridescent-effect-4.png)

但是光也可以作为一种波来模拟。虽然物理学家会熟悉这个概念，但开发人员可能不会。所以让我们花点时间试着理解光是波是什么意思。

我们都熟悉海浪。海洋表面的每一点都有一个高度。它的平均值越高，波就越大。一旦水的表面受到干扰，波浪就会一直传播到海洋，直到它们的能量消散为止。

光是一种波，而不是被测量为水面的高度，它被定义为电磁场在任何给定的点上所拥有的能量。在这种模式下，光在电磁场中是一种扰动，在空间中传播。我们可以想象一个灯泡要么引起一个波，要么发射出许多光子。

光子携带的能量决定了光的颜色。低能量的光子被认为是红色的;具有较高能量的光子被认为是紫色的。波具有与粒子对应的能量类似的性质:波长。从直观上看，这是波的两个峰值之间的距离。

![](../../\images\iridescent-effect-5.jpg)

光总是以同样的速度传播(约299,792,458米每秒)，这意味着电磁波都以同样的速度传播。虽然它们的速度是固定的，但它们的波长却各不相同。高能量的光子是波长较短的波，一个光波的波长最终决定了它的颜色。

![](../../\images\iridescent-effect-6.png)

正如上面的图表所示，人类的眼睛可以通过大约700纳米到400纳米的波长来感知光子。纳米是十亿分之一米。纳米有多小?

在这个简单的介绍之后，本教程的其余部分将集中于理解和实现Unity中的彩虹。

**优化彩虹：** 正如我们之前所说，不同波长的光被人眼视为不同的颜色。接下来的两个帖子将关注如何将这些波长与RGB颜色联系起来。这一步对于复制具有高度准确度的虹膜反射至关重要。这些文章还介绍了一种新的方法，物理上准确，计算效率高。

**衍射光栅：** 本系列的第4部分和第5部分将集中讨论衍射光栅。这是导致材料呈现虹彩反射效果的技术名称。尽管是非常技术性的，但控制这种光学现象的推导方程非常简单。如果你对衍射光栅后面的数学不感兴趣，可以跳过第5部分。

**cd - rom材质：** 本系列的核心是实际的cd - rom着色器。它利用之前文章中收集到的知识，最终实现了Unity中的衍射光栅。它扩展了的标准表面着色器;在物理和视觉上都有这样的效果。只需很少的努力，你就可以改变它以适应其他类型的基于衍射光栅的彩虹反射。另一篇文章将展示如何以非常有效的方式在移动设备上实现这项技术。

**薄膜干涉：** 衍射光栅并不是唯一能产生彩虹的方法。薄膜干涉是另一种物理现象，它可以将白光分解成其成分，从而产生闪光反射。这就是泡沫和溢出油的典型外观。再一次，我们将研究这种光学现象的数学基础，为我们的着色器推导出物理的方程。
