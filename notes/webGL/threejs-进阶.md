# threejs-è¿›é˜¶

## åŸºç¡€å…¥é—¨ ï¼ˆä¸Šï¼‰

### æ¸²æŸ“å™¨ WebGLRenderer

`WebGLRenderer` ç”¨ `WebGL` æ¸²æŸ“å‡ºåœºæ™¯ã€‚é€šè¿‡ `new THREE.WebGLRenderer` åˆå§‹åŒ–æ¸²æŸ“å™¨ï¼Œå¹¶å°† `canvas` å®¹å™¨ä½œä¸ºå‚æ•°ä¼ ç»™å®ƒã€‚é€šè¿‡è°ƒç”¨ `setSize` æ–¹æ³•è®¾ç½®æ¸²æŸ“å™¨çš„å°ºå¯¸ï¼›è°ƒç”¨ `setPixelRatio` è®¾ç½® `canvas` çš„åƒç´ æ¯”ä¸ºå½“å‰è®¾å¤‡çš„å±å¹•åƒç´ æ¯”ï¼Œé¿å…é«˜åˆ†å±ä¸‹å‡ºç°æ¨¡ç³Šæƒ…å†µã€‚

### åœºæ™¯ Scene

`Scene` æ˜¯åœºæ™¯å¯¹è±¡ï¼Œæ‰€æœ‰çš„ç½‘æ ¼å¯¹è±¡ã€ç¯å…‰ã€åŠ¨ç”»ç­‰éƒ½éœ€è¦æ”¾åœ¨åœºæ™¯ä¸­ï¼Œä½¿ç”¨ `new THREE.Scene` åˆå§‹åŒ–åœºæ™¯ï¼Œä¸‹é¢æ˜¯åœºæ™¯çš„ä¸€äº›å¸¸ç”¨å±æ€§å’Œæ–¹æ³•ã€‚

- `fog`ï¼šè®¾ç½®åœºæ™¯çš„é›¾åŒ–æ•ˆæœ,å¯ä»¥æ¸²æŸ“å‡ºä¸€å±‚é›¾æ°”ï¼Œéšå±‚è¿œå¤„çš„çš„ç‰©ä½“ã€‚
- `overrideMaterial`ï¼šå¼ºåˆ¶åœºæ™¯ä¸­æ‰€æœ‰ç‰©ä½“ä½¿ç”¨ç›¸åŒæè´¨ã€‚
- `autoUpdate`ï¼šè®¾ç½®æ˜¯å¦è‡ªåŠ¨æ›´æ–°ã€‚
- `background`ï¼šè®¾ç½®åœºæ™¯èƒŒæ™¯ï¼Œé»˜è®¤ä¸ºé»‘è‰²ã€‚
- `children`ï¼šæ‰€æœ‰å¯¹è±¡çš„åˆ—è¡¨ã€‚
- `add()`ï¼šå‘åœºæ™¯ä¸­æ·»åŠ å¯¹è±¡ã€‚
- `remove()`ï¼šä»åœºæ™¯ä¸­ç§»é™¤å¯¹è±¡ã€‚
- `getChildByName()`ï¼šæ ¹æ®åå­—ç›´æ¥è¿”å›è¿™ä¸ªå¯¹è±¡ã€‚
- `traverse()`ï¼šä¼ å…¥ä¸€ä¸ªå›è°ƒå‡½æ•°è®¿é—®æ‰€æœ‰çš„å¯¹è±¡ã€‚

### é€è§†ç›¸æœº PerspectiveCamera

ç›¸æœºç±»å‹å¯ä»¥åˆ†ä¸º**æ­£äº¤ç›¸æœº**å’Œ**é€è§†ç›¸æœº**ï¼Œä¸€èˆ¬ä½¿ç”¨çš„æ˜¯é€è§†ç›¸æœº `PerspectiveCamera`ã€‚

```js
PerspectiveCamera(fov, aspect, near, far)
```

- `fov`ï¼šè¡¨ç¤ºè§†åœºï¼Œå°±æ˜¯èƒ½å¤Ÿçœ‹åˆ°çš„è§’åº¦èŒƒå›´ï¼Œäººçš„çœ¼ç›å¤§çº¦èƒ½å¤Ÿçœ‹åˆ° `180åº¦` çš„è§†åœºï¼Œè§†è§’å¤§å°è®¾ç½®è¦æ ¹æ®å…·ä½“åº”ç”¨ï¼Œä¸€èˆ¬æ¸¸æˆä¼šè®¾ç½® `60~90` åº¦ï¼Œé»˜è®¤å€¼ `45`ã€‚
- `aspect`ï¼šè¡¨ç¤ºæ¸²æŸ“çª—å£çš„é•¿å®½æ¯”ï¼Œå¦‚æœä¸€ä¸ªç½‘é¡µä¸Šåªæœ‰ä¸€ä¸ªå…¨å±çš„ `canvas` ç”»å¸ƒä¸”ç”»å¸ƒä¸Šåªæœ‰ä¸€ä¸ªçª—å£ï¼Œé‚£ä¹ˆ `aspect` çš„å€¼å°±æ˜¯ç½‘é¡µçª—å£å®¢æˆ·åŒºçš„å®½é«˜æ¯” `window.innerWidth/window.innerHeight`ã€‚
- `near`ï¼šå±æ€§è¡¨ç¤ºçš„æ˜¯ä»è·ç¦»ç›¸æœºå¤šè¿œçš„ä½ç½®å¼€å§‹æ¸²æŸ“ï¼Œä¸€èˆ¬æƒ…å†µä¼šè®¾ç½®ä¸€ä¸ªå¾ˆå°çš„å€¼ã€‚ é»˜è®¤å€¼ `0.1`ã€‚
- `far`ï¼šå±æ€§è¡¨ç¤ºçš„æ˜¯è·ç¦»ç›¸æœºå¤šè¿œçš„ä½ç½®æˆªæ­¢æ¸²æŸ“ï¼Œå¦‚æœè®¾ç½®çš„å€¼åå°ï¼Œä¼šæœ‰éƒ¨åˆ†åœºæ™¯çœ‹ä¸åˆ°ï¼Œé»˜è®¤å€¼ `1000`ã€‚

#### é¡µé¢ç¼©æ”¾é€‚é…

ä¸ºäº†é˜²æ­¢ç”»å¸ƒæ¸²æŸ“å†…å®¹åœ¨æµè§ˆå™¨å°ºå¯¸å‘ç”Ÿå˜åŒ–æ—¶äº§ç”Ÿå˜å½¢å’Œç§»ä½ï¼Œå¯ä»¥å¯¹ `resize` äº‹ä»¶è¿›è¡Œç›‘å¬ï¼Œå½“é¡µé¢å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒåŒæ—¶æ›´æ–°æ¸²æŸ“å™¨çš„å°ºå¯¸å’Œç›¸æœºè§†è§’æ¯”ä¾‹ï¼Œå¹¶è°ƒç”¨ `.updateProjectionMatrix()` æ‰‹åŠ¨æ›´æ–°ç›¸æœºå¯¹è±¡çš„æŠ•å½±çŸ©é˜µå±æ€§ã€‚

```js
// é¡µé¢ç¼©æ”¾äº‹ä»¶ç›‘å¬
window.addEventListener('resize', () => {
  sizes.width = window.innerWidth;
  sizes.height = window.innerHeight;
  // æ›´æ–°æ¸²æŸ“
  renderer.setSize(sizes.width, sizes.height);
  renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2))
  // æ›´æ–°ç›¸æœº
  camera.aspect = sizes.width / sizes.height;
  camera.updateProjectionMatrix();
}); 
```

### ç«‹æ–¹ä½“ BoxGeometry

`BoxGeometry` æ˜¯å››è¾¹å½¢çš„åŸå§‹å‡ ä½•ç±»ï¼Œæ¥åˆ›å»ºç«‹æ–¹ä½“æˆ–è€…ä¸è§„åˆ™å››è¾¹å½¢ã€‚

```js
BoxGeometry(width : Float, height : Float, depth : Float, widthSegments : Integer, heightSegments : Integer, depthSegments : Integer)
```

- `width`ï¼š`Xè½´` çš„å®½åº¦ï¼Œé»˜è®¤ä¸º `1`ã€‚
- `height`ï¼š`Yè½´` çš„é«˜åº¦ï¼Œé»˜è®¤ä¸º `1`ã€‚
- `depth`ï¼š`Zè½´` çš„æ·±åº¦ï¼Œé»˜è®¤ä¸º `1`ã€‚
- `widthSegments`ï¼šå¯é€‰ï¼Œå®½åº¦çš„åˆ†æ®µæ•°ï¼Œé»˜è®¤æ˜¯ `1`ã€‚
- `heightSegments`ï¼šå¯é€‰ï¼Œé«˜åº¦çš„åˆ†æ®µæ•°ï¼Œé»˜è®¤æ˜¯ `1`ã€‚
- `depthSegments`ï¼šå¯é€‰ï¼Œæ·±åº¦çš„åˆ†æ®µæ•°ï¼Œé»˜è®¤æ˜¯ `1`ã€‚

### åŸºç¡€ç½‘æ ¼æè´¨ MeshBasicMaterial

åŸºç¡€ç½‘æ ¼æè´¨æ˜¯ä¸€ç§ä¸€ä¸ªä»¥ç®€å•ç€è‰²æ–¹å¼æ¥ç»˜åˆ¶å‡ ä½•ä½“çš„æè´¨ï¼Œå®ƒä¸å—å…‰ç…§çš„å½±å“ã€‚

```js
MeshBasicMaterial(parameters: Object)
```

- `parameters`ï¼šå¯é€‰ï¼Œç”¨äºå®šä¹‰æè´¨å¤–è§‚çš„å¯¹è±¡ï¼Œå…·æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªå±æ€§å¦‚Â `color`ã€`map`Â ç­‰ã€‚

### åŠ¨ç”»æ›´æ–°

å®Œæˆä¸Šé¢çš„å†…å®¹ï¼Œå¦‚æœä½ åœ¨æµè§ˆå™¨ä¸­ç›´æ¥è¿è¡Œï¼Œä¼šå‘ç°é¡µé¢ä¸ä¼šåŠ è½½ä»»ä½•ä¸œè¥¿ï¼Œå› ä¸ºè¿˜æ²¡æœ‰è¿›è¡ŒçœŸæ­£çš„æ¸²æŸ“ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬éœ€è¦è°ƒç”¨ `requestAnimationFrame` åœ¨é¡µé¢é‡å›åŠ¨ç”»ä¸­æ›´æ–°æ¸²æŸ“å†…å®¹ã€‚åœ¨è¿™é‡Œåˆ›å»ºäº†ä¸€ä¸ª `tick` `åŠ¨ç”»æ–¹æ³•ï¼Œå®ƒçš„åŠŸèƒ½æ˜¯ä½¿æ¸²æŸ“å™¨å¯ä»¥åœ¨æ¯æ¬¡å±å¹•åˆ·æ–°æ—¶å¯¹åœºæ™¯è¿›è¡Œç»˜åˆ¶çš„å¾ªç¯ï¼Œåœ¨å¤§å¤šæ•°å±å¹•ä¸Šï¼ŒrequestAnimationFrame` åˆ·æ–°ç‡ä¸€èˆ¬ä¸º `60æ¬¡/ç§’`ã€‚

## åŸºç¡€å…¥é—¨ï¼ˆä¸‹ï¼‰

### Scene.Fog åœºæ™¯é›¾åŒ–

`Fog` ç±»å®šä¹‰çš„æ˜¯çº¿æ€§é›¾ï¼Œé›¾çš„å¯†åº¦éšç€è·ç¦»çº¿æ€§å¢å¤§ï¼Œå³åœºæ™¯ä¸­ç‰©ä½“é›¾åŒ–æ•ˆæœéšç€éšè·ç¦»çº¿æ€§å˜åŒ–ã€‚

```js
Fog(color, near, far)
```

- `color`: è¡¨ç¤ºé›¾çš„é¢œè‰²ï¼Œå¦‚è®¾ç½®ä¸ºç™½è‰²ï¼Œåœºæ™¯ä¸­è¿œå¤„ç‰©ä½“ä¸ºè“è‰²ï¼Œåœºæ™¯ä¸­æœ€è¿‘å¤„è·ç¦»ç‰©ä½“æ˜¯è‡ªèº«é¢œè‰²ï¼Œæœ€è¿œå’Œæœ€è¿‘ä¹‹é—´çš„ç‰©ä½“é¢œè‰²æ˜¯ç‰©ä½“æœ¬èº«é¢œè‰²å’Œé›¾é¢œè‰²çš„æ··åˆæ•ˆæœã€‚
- `near`ï¼šè¡¨ç¤ºåº”ç”¨é›¾åŒ–æ•ˆæœçš„æœ€å°è·ç¦»ï¼Œè·ç¦»æ´»åŠ¨æ‘„åƒæœºé•¿åº¦å°äº `near` çš„ç‰©ä½“å°†ä¸ä¼šè¢«é›¾æ‰€å½±å“ã€‚
- `far`ï¼šè¡¨ç¤ºåº”ç”¨é›¾åŒ–æ•ˆæœçš„æœ€å¤§è·ç¦»ï¼Œè·ç¦»æ´»åŠ¨æ‘„åƒæœºé•¿åº¦å¤§äº `far` çš„ç‰©ä½“å°†ä¸ä¼šè¢«é›¾æ‰€å½±å“ã€‚

### å…‰æº Light

`three.js` ä¸­æä¾›äº†å¾ˆå¤šç§å…‰æºï¼Œå®ƒä»¬å¯ä»¥æ¨¡æ‹Ÿç°å®ä¸–ç•Œä¸­å¤§éƒ¨åˆ†åœºæ™¯çš„å…‰ç…§æ•ˆæœã€‚å…‰æºçš„ä½¿ç”¨æ–¹æ³•ä¹Ÿå¤§è‡´å’Œæœ¬æ–‡ç¤ºä¾‹ä¸­æ˜¯ä¸€æ ·çš„ã€‚ä¸‹è¡¨åˆ—å‡ºäº†å‡ ç§å¸¸ç”¨çš„å…‰æºï¼Œå¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚åœºæ™¯åˆ†åˆ«é€‰æ‹©ä¸åŒçš„å…‰æºã€‚å¤§å®¶å¯ä»¥åœ¨å®è·µä¸­æŠŠæœ¬ç¤ºä¾‹ä¸­çš„ç¯å¢ƒå…‰ `AmbientLight` æ¢æˆå…¶ä»–æ•ˆæœå…‰æºï¼Œçœ‹çœ‹å®ƒä»¬ç”Ÿæˆçš„æœ‰ä»€ä¹ˆåŒºåˆ«ã€‚

| å…‰æºåç§°              | æè¿°                                         |
| ----------------- | ------------------------------------------ |
| `AmbientLight`    | ç¯å¢ƒå…‰ï¼Œæ˜¯ä¸€ç§åŸºç¡€å…‰æºï¼Œå®ƒçš„é¢œè‰²ä¼šæ·»åŠ åˆ°æ•´ä¸ªåœºæ™¯å’Œæ‰€æœ‰å¯¹è±¡çš„å½“å‰é¢œè‰²ä¸Š        |
| `PointLight`      | ç‚¹å…‰æºï¼Œç©ºé—´ä¸­çš„ä¸€ç‚¹ï¼Œæœæ‰€æœ‰çš„æ–¹å‘å‘å°„å…‰çº¿                      |
| `SpotLight`       | èšå…‰ç¯å…‰æºï¼Œè¿™ç§å…‰æºæœ‰èšå…‰çš„æ•ˆæœï¼Œç±»ä¼¼å°ç¯ã€å¤©èŠ±æ¿ä¸Šçš„åŠç¯ï¼Œæˆ–è€…æ‰‹ç”µç­’        |
| `DirectionLight`  | æ–¹å‘å…‰ï¼Œä¹Ÿç§°ä¸ºæ— é™å…‰ã€‚ä»è¿™ç§å…‰æºå‘å‡ºçš„å…‰çº¿å¯ä»¥çœ‹ç€å¹³è¡Œçš„ã€‚ä¾‹å¦‚ï¼Œå¤ªé˜³å…‰        |
| `HemishpereLight` | åŠçƒå…‰ï¼Œè¿™æ˜¯ä¸€ç§ç‰¹æ®Šå…‰æºï¼Œå¯ä»¥ç”¨æ¥åˆ›å»ºæ›´åŠ è‡ªç„¶çš„å®¤å¤–å…‰çº¿ï¼Œæ¨¡æ‹Ÿæ”¾å…‰é¢å’Œå…‰çº¿å¾®å¼±çš„å¤©ç©º |
| `AreaLight`       | é¢å…‰æºï¼Œä½¿ç”¨è¿™ç§å…‰æºå¯ä»¥æŒ‡å®šæ•£å‘å…‰çº¿çš„å¹³é¢ï¼Œè€Œä¸æ˜¯ç©ºé—´ä¸­çš„ä¸€ä¸ªç‚¹           |
| `LensFlare`       | é•œå¤´çœ©å…‰ï¼Œä¸æ˜¯æºï¼Œä½†å¯ä»¥é€šè¿‡ `LensFlare` ä¸ºåœºæ™¯ä¸­çš„å…‰æºæ·»åŠ é•œå¤´å…‰æ™•æ•ˆæœ |

å…‰æºçš„ä¸€äº›é€šç”¨å±æ€§ï¼š

- `color`ï¼šå…‰æºé¢œè‰²ã€‚
- `intensity`ï¼šå…‰ç…§å¼ºåº¦ã€‚é»˜è®¤å€¼æ˜¯ `1`ã€‚
- `visible`ï¼šå¦‚æœè®¾ä¸º `true`ï¼Œè¯¥å…‰æºå°±ä¼šæ˜¾ç¤ºï¼›å¦‚æœè®¾ç½®ä¸º`false`ï¼Œå…‰æºå°±ä¼šæ¶ˆå¤±ã€‚

### å‡ ä½•ä½“ Geometry

ä¸‹é¢æ±‡æ€»äº† `Three.js` å¸¸ç”¨å‡ ä½•ä½“çš„åˆ†ç±»ä»‹ç»ä»¥åŠæ„é€ å™¨çš„å‚æ•°ï¼Œåç»­ä½¿ç”¨è¿‡ç¨‹ä¸­å¯é€šè¿‡æ­¤è¡¨æŸ¥è¯¢ã€‚ç”±äºæœ¬æ–‡ç¯‡å¹…å†…å®¹æœ‰é™ï¼Œå°±ä¸ä¸€ä¸€å±•ç¤ºå…·ä½“å½¢çŠ¶ï¼Œå¤§å®¶åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­ä¸€å®šè¦äº²è‡ªåŠ¨æ‰‹è¯•è¯•å„ç§å‡ ä½•ä½“åˆ›å»ºåæ˜¯ä»€ä¹ˆæ ·å­çš„ï¼Œä¹Ÿå¯ä»¥å¤šçœ‹çœ‹ `threejs.org` å®˜ç½‘æ–‡æ¡£ã€‚

| åç§°                     | æ„é€ å™¨å‚æ•°                                                                                                                                                                                                                                                                                                                                                          |
| ---------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `PlaneGeometry`        | ã€å¹³é¢å‡ ä½•ä½“ã€‘ `width` â€” å¹³é¢æ²¿ç€Xè½´çš„å®½åº¦ã€‚é»˜è®¤å€¼æ˜¯ `1`ã€‚`height` â€” å¹³é¢æ²¿ç€ `Yè½´` çš„é«˜åº¦ã€‚é»˜è®¤å€¼æ˜¯ `1`ã€‚`widthSegments` â€” å¯é€‰ï¼Œå¹³é¢çš„å®½åº¦åˆ†æ®µæ•°ï¼Œé»˜è®¤å€¼æ˜¯ `1`ã€‚ `heightSegments` â€” å¯é€‰ï¼Œå¹³é¢çš„é«˜åº¦åˆ†æ®µæ•°ï¼Œé»˜è®¤å€¼æ˜¯ `1`ã€‚                                                                                                                                                                                                        |
| `CircleGeometry`       | ã€åœ†å½¢å‡ ä½•ä½“ã€‘ `radius` â€” åœ†å½¢çš„åŠå¾„ï¼Œé»˜è®¤å€¼ä¸º`1`ã€‚ `segments` â€” åˆ†æ®µçš„æ•°é‡ï¼Œæœ€å°å€¼ä¸º `3`ï¼Œé»˜è®¤å€¼ä¸º `8`ã€‚`thetaStart` â€” ç¬¬ä¸€ä¸ªåˆ†æ®µçš„èµ·å§‹è§’åº¦ï¼Œé»˜è®¤ä¸º `0`ã€‚`thetaLength` â€” åœ†å½¢æ‰‡åŒºçš„ä¸­å¿ƒè§’ï¼Œé€šå¸¸è¢«ç§°ä¸º `Î¸`ã€‚é»˜è®¤å€¼æ˜¯ `2*Pi`ï¼Œè¿™ä½¿å…¶æˆä¸ºä¸€ä¸ªå®Œæ•´çš„åœ†ã€‚                                                                                                                                                                                           |
| `RingGeometry`         | ã€ç¯å½¢å‡ ä½•ä½“ã€‘ `innerRadius` â€” å†…éƒ¨åŠå¾„ï¼Œé»˜è®¤å€¼ä¸º `0.5`ã€‚`outerRadius` â€” å¤–éƒ¨åŠå¾„ï¼Œé»˜è®¤å€¼ä¸º `1`ã€‚`thetaSegments` â€” åœ†ç¯çš„åˆ†æ®µæ•°ã€‚è¿™ä¸ªå€¼è¶Šå¤§ï¼Œåœ†ç¯å°±è¶Šåœ†ã€‚æœ€å°å€¼ä¸º `3`ï¼Œé»˜è®¤å€¼ä¸º `8`ã€‚`phiSegments` â€” æœ€å°å€¼ä¸º `1`ï¼Œé»˜è®¤å€¼ä¸º `8`ã€‚`thetaStart` â€” èµ·å§‹è§’åº¦ï¼Œé»˜è®¤å€¼ä¸º `0`ã€‚`thetaLength` â€” åœ†å¿ƒè§’ï¼Œé»˜è®¤å€¼ä¸º `Math.PI * 2`ã€‚                                                                                                                            |
| `ShapeGeometry`        | ã€å½¢çŠ¶å‡ ä½•ä½“ã€‘ `shapes` â€” ä¸€ä¸ªå•ç‹¬çš„ `shape`ï¼Œæˆ–è€…ä¸€ä¸ªåŒ…å«å½¢çŠ¶çš„ `Array`ã€‚ `curveSegments` - `Integer` - æ¯ä¸€ä¸ªå½¢çŠ¶çš„åˆ†æ®µæ•°ï¼Œé»˜è®¤å€¼ä¸º `12`ã€‚                                                                                                                                                                                                                                                         |
| `BoxGeometry`          | ã€ç«‹æ–¹å‡ ä½•ä½“ã€‘ `width` â€” Xè½´ä¸Šé¢çš„å®½åº¦ï¼Œé»˜è®¤å€¼ä¸º `1`ã€‚ `height` â€” `Y` è½´ä¸Šé¢çš„é«˜åº¦ï¼Œé»˜è®¤å€¼ä¸º `1`ã€‚ `depth` â€” `Z` è½´ä¸Šé¢çš„æ·±åº¦ï¼Œé»˜è®¤å€¼ä¸º `1`ã€‚`widthSegments` â€” å¯é€‰ï¼Œå®½åº¦çš„åˆ†æ®µæ•°ï¼Œé»˜è®¤å€¼æ˜¯ `1`ã€‚`heightSegments` â€” å¯é€‰ï¼Œå®½åº¦çš„åˆ†æ®µæ•°ï¼Œé»˜è®¤å€¼æ˜¯ `1`ã€‚`depthSegments` â€” å¯é€‰ï¼Œå®½åº¦çš„åˆ†æ®µæ•°ï¼Œé»˜è®¤å€¼æ˜¯ `1`ã€‚                                                                                                                                             |
| `SphereGeometry`       | ã€çƒå‡ ä½•ä½“ã€‘ `radius` â€” çƒä½“åŠå¾„ï¼Œé»˜è®¤ä¸º `1`ã€‚`widthSegments` â€” æ°´å¹³åˆ†æ®µæ•°ï¼Œæœ€å°å€¼ä¸º `3`ï¼Œé»˜è®¤å€¼ä¸º `8`ã€‚`heightSegments` â€” å‚ç›´åˆ†æ®µæ•°ï¼Œæœ€å°å€¼ä¸º `2`ï¼Œé»˜è®¤å€¼ä¸º `6`ã€‚`phiStart` â€” æŒ‡å®šæ°´å¹³èµ·å§‹è§’åº¦ï¼Œé»˜è®¤å€¼ä¸º `0`ã€‚ `phiLength` â€” æŒ‡å®šæ°´å¹³æ‰«æè§’åº¦çš„å¤§å°ï¼Œé»˜è®¤å€¼ä¸º `Math.PI * 2`ã€‚`thetaStart` â€” æŒ‡å®šå‚ç›´èµ·å§‹è§’åº¦ï¼Œé»˜è®¤å€¼ä¸º `0`ã€‚`thetaLength` â€” æŒ‡å®šå‚ç›´æ‰«æè§’åº¦å¤§å°ï¼Œé»˜è®¤å€¼ä¸º `Math.PI`ã€‚                                                                                   |
| `CylinderGeometry`     | ã€åœ†æŸ±å‡ ä½•ä½“ã€‘ `radiusTop` â€” åœ†æŸ±çš„é¡¶éƒ¨åŠå¾„ï¼Œé»˜è®¤å€¼æ˜¯ `1`ã€‚`radiusBottom` â€” åœ†æŸ±çš„åº•éƒ¨åŠå¾„ï¼Œé»˜è®¤å€¼æ˜¯ `1`ã€‚`height` â€” åœ†æŸ±çš„é«˜åº¦ï¼Œé»˜è®¤å€¼æ˜¯ `1`ã€‚`radialSegments` â€” åœ†æŸ±ä¾§é¢å‘¨å›´çš„åˆ†æ®µæ•°ï¼Œé»˜è®¤ä¸º `8`ã€‚ `heightSegments` â€” åœ†æŸ±ä¾§é¢æ²¿ç€å…¶é«˜åº¦çš„åˆ†æ®µæ•°ï¼Œé»˜è®¤å€¼ä¸º `1`ã€‚`openEnded` â€” ä¸€ä¸ª `Boolean` å€¼ï¼ŒæŒ‡æ˜è¯¥åœ†é”¥çš„åº•é¢æ˜¯å¼€æ”¾çš„è¿˜æ˜¯å°é¡¶çš„ã€‚é»˜è®¤å€¼ä¸º `false`ï¼Œå³å…¶åº•é¢é»˜è®¤æ˜¯å°é¡¶çš„ã€‚`thetaStart` â€” ç¬¬ä¸€ä¸ªåˆ†æ®µçš„èµ·å§‹è§’åº¦ï¼Œé»˜è®¤ä¸º `0`ã€‚`thetaLength` â€” åœ†æŸ±åº•é¢åœ†æ‰‡åŒºçš„ä¸­å¿ƒè§’ï¼Œé€šå¸¸è¢«ç§°ä¸º `â€œÎ¸â€`ã€‚é»˜è®¤å€¼æ˜¯ `2*Pi`ï¼Œè¿™ä½¿å…¶æˆä¸ºä¸€ä¸ªå®Œæ•´çš„åœ†æŸ±ã€‚ |
| `ConeGeometry`         | ã€åœ†é”¥å‡ ä½•ä½“ã€‘ `radius` â€” åœ†é”¥åº•éƒ¨çš„åŠå¾„ï¼Œé»˜è®¤å€¼ä¸º `1`ã€‚height â€” åœ†é”¥çš„é«˜åº¦ï¼Œé»˜è®¤å€¼ä¸º1ã€‚ `radialSegments` â€” åœ†é”¥ä¾§é¢å‘¨å›´çš„åˆ†æ®µæ•°ï¼Œé»˜è®¤ä¸º `8`ã€‚`heightSegments` â€” åœ†é”¥ä¾§é¢æ²¿ç€å…¶é«˜åº¦çš„åˆ†æ®µæ•°ï¼Œé»˜è®¤å€¼ä¸º `1`ã€‚`openEnded` â€” ä¸€ä¸ªBooleanå€¼ï¼ŒæŒ‡æ˜è¯¥åœ†é”¥çš„åº•é¢æ˜¯å¼€æ”¾çš„è¿˜æ˜¯å°é¡¶çš„ã€‚é»˜è®¤å€¼ä¸º `false`ï¼Œå³å…¶åº•é¢é»˜è®¤æ˜¯å°é¡¶çš„ã€‚Â·thetaStartÂ· â€” ç¬¬ä¸€ä¸ªåˆ†æ®µçš„èµ·å§‹è§’åº¦ï¼Œé»˜è®¤ä¸º `0`ã€‚`thetaLength` â€” åœ†é”¥åº•é¢åœ†æ‰‡åŒºçš„ä¸­å¿ƒè§’ï¼Œé€šå¸¸è¢«ç§°ä¸º `â€œÎ¸â€`ã€‚é»˜è®¤å€¼æ˜¯ `2*Pi`ï¼Œè¿™ä½¿å…¶æˆä¸ºä¸€ä¸ªå®Œæ•´çš„åœ†é”¥ã€‚                                               |
| `TorusGeometry`        | ã€åœ†ç¯å‡ ä½•ä½“ã€‘ `radius` - åœ†ç¯çš„åŠå¾„ï¼Œä»åœ†ç¯çš„ä¸­å¿ƒåˆ°ç®¡é“çš„ä¸­å¿ƒã€‚é»˜è®¤å€¼æ˜¯ `1`ã€‚`tube` â€” ç®¡é“çš„åŠå¾„ï¼Œé»˜è®¤å€¼ä¸º `0.4`ã€‚`radialSegments` â€” åœ†ç¯çš„åˆ†æ®µæ•°ï¼Œé»˜è®¤å€¼ä¸º `8`ã€‚`tubularSegments` â€” ç®¡é“çš„åˆ†æ®µæ•°ï¼Œé»˜è®¤å€¼ä¸º `6`ã€‚`arc` â€” åœ†ç¯çš„ä¸­å¿ƒè§’ï¼Œé»˜è®¤å€¼ä¸º `Math.PI * 2`ã€‚                                                                                                                                                                             |
| `TextGeometry`         | ã€æ–‡æœ¬å‡ ä½•ä½“ã€‘ `font` â€” `THREE.Font` çš„å®ä¾‹ã€‚`size` â€” `Float`ã€‚å­—ä½“å¤§å°ï¼Œé»˜è®¤å€¼ä¸º `100`ã€‚`height` â€” `Float`ã€‚æŒ¤å‡ºæ–‡æœ¬çš„åšåº¦ã€‚é»˜è®¤å€¼ä¸º `50`ã€‚`curveSegments` â€” `Integer`ã€‚æ›²çº¿ä¸Šç‚¹çš„æ•°é‡ã€‚é»˜è®¤å€¼ä¸º `12`ã€‚`bevelEnabled` â€” `Boolean`ã€‚æ˜¯å¦å¼€å¯æ–œè§’ï¼Œé»˜è®¤ä¸º `false`ã€‚`bevelThickness` â€” `Float`ã€‚æ–‡æœ¬ä¸Šæ–œè§’çš„æ·±åº¦ï¼Œé»˜è®¤å€¼ä¸º `20`ã€‚`bevelSize` â€” `Float`ã€‚æ–œè§’ä¸åŸå§‹æ–‡æœ¬è½®å»“ä¹‹é—´çš„å»¶ä¼¸è·ç¦»ã€‚é»˜è®¤å€¼ä¸º `8`ã€‚`bevelSegments` â€” `Integer`ã€‚æ–œè§’çš„åˆ†æ®µæ•°ã€‚é»˜è®¤å€¼ä¸º `3`ã€‚                 |
| `TetrahedronGeometry`  | ã€å››é¢å‡ ä½•ä½“ã€‘ `radius` â€” å››é¢ä½“çš„åŠå¾„ï¼Œé»˜è®¤å€¼ä¸º `1`ã€‚`detail` â€” é»˜è®¤å€¼ä¸º `0`ã€‚å°†è¿™ä¸ªå€¼è®¾ä¸ºä¸€ä¸ªå¤§äº `0` çš„æ•°å°†ä¼šä¸ºå®ƒå¢åŠ ä¸€äº›é¡¶ç‚¹ï¼Œä½¿å…¶ä¸å†æ˜¯ä¸€ä¸ªå››é¢ä½“ã€‚                                                                                                                                                                                                                                                                 |
| `OctahedronGeometry`   | ã€å…«é¢å‡ ä½•ä½“ã€‘ `radius` â€” å…«é¢ä½“çš„åŠå¾„ï¼Œé»˜è®¤å€¼ä¸º `1`ã€‚`detail` â€” é»˜è®¤å€¼ä¸º `0`ï¼Œå°†è¿™ä¸ªå€¼è®¾ä¸ºä¸€ä¸ªå¤§äº `0` çš„æ•°å°†ä¼šä¸ºå®ƒå¢åŠ ä¸€äº›é¡¶ç‚¹ï¼Œä½¿å…¶ä¸å†æ˜¯ä¸€ä¸ªå…«é¢ä½“ã€‚                                                                                                                                                                                                                                                                 |
| `DodecahedronGeometry` | ã€åäºŒé¢å‡ ä½•ä½“ã€‘ `radius` â€” åäºŒé¢ä½“çš„åŠå¾„ï¼Œé»˜è®¤å€¼ä¸º `1`ã€‚`detail` â€” é»˜è®¤å€¼ä¸º `0`ã€‚å°†è¿™ä¸ªå€¼è®¾ä¸ºä¸€ä¸ªå¤§äº `0` çš„æ•°å°†ä¼šä¸ºå®ƒå¢åŠ ä¸€äº›é¡¶ç‚¹ï¼Œä½¿å…¶ä¸å†æ˜¯ä¸€ä¸ªåäºŒé¢ä½“ã€‚                                                                                                                                                                                                                                                              |
| `IcosahedronGeometry`  | ã€äºŒåé¢å‡ ä½•ä½“ã€‘ `radius` â€” äºŒåé¢ä½“çš„åŠå¾„ï¼Œé»˜è®¤ä¸º `1`ã€‚`detail` â€” é»˜è®¤å€¼ä¸º `0`ã€‚å°†è¿™ä¸ªå€¼è®¾ä¸ºä¸€ä¸ªå¤§äº `0` çš„æ•°å°†ä¼šä¸ºå®ƒå¢åŠ ä¸€äº›é¡¶ç‚¹ï¼Œä½¿å…¶ä¸å†æ˜¯ä¸€ä¸ªäºŒåé¢ä½“ã€‚å½“è¿™ä¸ªå€¼å¤§äº `1` çš„æ—¶å€™ï¼Œå®é™…ä¸Šå®ƒå°†å˜æˆä¸€ä¸ªçƒä½“ã€‚                                                                                                                                                                                                                                    |
| `TorusKnotGeometry`    | ã€åœ†ç¯æ‰­ç»“å‡ ä½•ä½“ã€‘ `radius` - åœ†ç¯çš„åŠå¾„ï¼Œé»˜è®¤å€¼ä¸º `1`ã€‚`tube` â€” ç®¡é“çš„åŠå¾„ï¼Œé»˜è®¤å€¼ä¸º `0.4`ã€‚`tubularSegments` â€” ç®¡é“çš„åˆ†æ®µæ•°é‡ï¼Œé»˜è®¤å€¼ä¸º `64`ã€‚`radialSegments` â€” æ¨ªæˆªé¢åˆ†æ®µæ•°é‡ï¼Œé»˜è®¤å€¼ä¸º `8`ã€‚`p` â€” è¿™ä¸ªå€¼å†³å®šäº†å‡ ä½•ä½“å°†ç»•ç€å…¶æ—‹è½¬å¯¹ç§°è½´æ—‹è½¬å¤šå°‘æ¬¡ï¼Œé»˜è®¤å€¼æ˜¯ `2`ã€‚`q` â€” è¿™ä¸ªå€¼å†³å®šäº†å‡ ä½•ä½“å°†ç»•ç€å…¶å†…éƒ¨åœ†ç¯æ—‹è½¬å¤šå°‘æ¬¡ï¼Œé»˜è®¤å€¼æ˜¯ `3`ã€‚                                                                                                                                          |
| `PolyhedronGeometry`   | ã€å¤šé¢å‡ ä½•ä½“ã€‘ `vertices` â€” ä¸€ä¸ªé¡¶ç‚¹ `Array`ï¼š`[1,1,1, -1,-1,-1, â€¦ ]`ã€‚`indices` â€” ä¸€ä¸ªæ„æˆé¢çš„ç´¢å¼• `Array`ï¼Œ `[0,1,2, 2,3,0, â€¦ ]`ã€‚`radius` â€” `Float` - æœ€ç»ˆå½¢çŠ¶çš„åŠå¾„ã€‚`detail` â€” `Integer` - å°†å¯¹è¿™ä¸ªå‡ ä½•ä½“ç»†åˆ†å¤šå°‘ä¸ªçº§åˆ«ã€‚ç»†èŠ‚è¶Šå¤šï¼Œå½¢çŠ¶å°±è¶Šå¹³æ»‘ã€‚                                                                                                                                                                   |
| `TubeGeometry`         | ã€ç®¡é“å‡ ä½•ä½“ã€‘ `path` â€” `Curve` - ä¸€ä¸ªç”±åŸºç±» `Curve` ç»§æ‰¿è€Œæ¥çš„è·¯å¾„ã€‚`tubularSegments` â€” `Integer` - ç»„æˆè¿™ä¸€ç®¡é“çš„åˆ†æ®µæ•°ï¼Œé»˜è®¤å€¼ä¸º `64`ã€‚`radius` â€” `Float` - ç®¡é“çš„åŠå¾„ï¼Œé»˜è®¤å€¼ä¸º `1`ã€‚`radialSegments` â€” `Integer` - ç®¡é“æ¨ªæˆªé¢çš„åˆ†æ®µæ•°ç›®ï¼Œé»˜è®¤å€¼ä¸º `8`ã€‚`closed` â€” `Boolean` ç®¡é“çš„ä¸¤ç«¯æ˜¯å¦é—­åˆï¼Œé»˜è®¤å€¼ä¸º `false`ã€‚                                                                                                                      |

#### æè´¨ Material

æè´¨å¯ä»¥æ¨¡æ‹Ÿç°å®ä¸–ç•Œä¸­ç‰©ä½“è¡¨é¢çš„ç‰©ç†ç‰¹æ€§ï¼Œ`Three.js` ä¹Ÿæä¾›çš„ä¸°å¯Œçš„æè´¨ï¼Œæˆ‘ä»¬åœ¨åˆ›å»ºä¸åŒç‰©ä½“æ—¶å¯ä»¥é€‰æ‹©ä¸åŒçš„æè´¨ï¼Œæ¯”å¦‚åˆ›å»ºæœ¨åˆ¶æ¡Œé¢æ—¶å¯ä»¥é€‰æ‹© `MeshPhysicalMaterial ç‰©ç†ç½‘æ ¼æè´¨`ï¼Œåˆ›å»ºå¡é€šé£æ ¼æ¨¡å‹æ—¶å¯ä»¥é€‰æ‹© `MeshToonMaterial å¡é€šç½‘æ ¼æè´¨`ã€‚ä¸‹è¡¨åˆ—å‡ºäº†å‡ ç§å¸¸ç”¨çš„æè´¨ç±»å‹åŠå…¶è¯´æ˜ã€‚

| åç§°                     | æè¿°                                              |
| ---------------------- | ----------------------------------------------- |
| `MeshBasicMaterial`    | åŸºç¡€ç½‘æ ¼åŸºç¡€æè´¨ï¼Œç”¨äºç»™å‡ ä½•ä½“èµ‹äºˆä¸€ç§ç®€å•çš„é¢œè‰²ï¼Œæˆ–è€…æ˜¾ç¤ºå‡ ä½•ä½“çš„çº¿æ¡†ã€‚            |
| `MeshDepthMaterial`    | ç½‘æ ¼æ·±åº¦æè´¨ï¼Œè¿™ä¸ªæè´¨ä½¿ç”¨ä»æ‘„åƒæœºåˆ°ç½‘æ ¼çš„è·ç¦»æ¥å†³å®šå¦‚ä½•ç»™ç½‘æ ¼ä¸Šè‰²ã€‚              |
| `MeshStandardMaterial` | æ ‡å‡†ç½‘æ ¼æè´¨ï¼Œä¸€ç§åŸºäºç‰©ç†çš„æ ‡å‡†æè´¨ï¼Œä½¿ç”¨ `Metallic-Roughness` å·¥ä½œæµç¨‹ |
| `MeshPhysicalMaterial` | ç‰©ç†ç½‘æ ¼æè´¨ï¼Œ`MeshStandardMaterial` çš„æ‰©å±•ï¼Œèƒ½å¤Ÿæ›´å¥½åœ°æ§åˆ¶åå°„ç‡ã€‚   |
| `MeshNormalMaterial`   | ç½‘æ ¼æ³•å‘æè´¨ï¼Œè¿™æ˜¯ä¸€ç§ç®€å•çš„æè´¨ï¼Œæ ¹æ®æ³•å‘å‘é‡è®¡ç®—ç‰©ä½“è¡¨é¢çš„é¢œè‰²ã€‚               |
| `MeshLambertMaterial`  | ç½‘æ ¼ `Lambert` æè´¨ï¼Œè¿™æ˜¯ä¸€ç§è€ƒè™‘å…‰ç…§å½±å“çš„æè´¨ï¼Œç”¨äºåˆ›å»ºæš—æ·¡çš„ã€ä¸å…‰äº®çš„ç‰©ä½“ã€‚   |
| `MeshPhongMaterial`    | ç½‘æ ¼ `Phong` å¼æè´¨ï¼Œè¿™æ˜¯ä¸€ç§è€ƒè™‘å…‰ç…§å½±å“çš„æè´¨ï¼Œç”¨äºåˆ›å»ºå…‰äº®çš„ç‰©ä½“ã€‚         |
| `MeshToonMaterial`     | ç½‘æ ¼ `Phong` å¼æè´¨ï¼Œ`MeshPhongMaterial` å¡é€šç€è‰²çš„æ‰©å±•ã€‚     |
| `ShaderMaterial`       | ç€è‰²å™¨æè´¨ï¼Œè¿™ç§æè´¨å…è®¸ä½¿ç”¨è‡ªå®šä¹‰çš„ç€è‰²å™¨ç¨‹åºï¼Œç›´æ¥æ§åˆ¶é¡¶ç‚¹çš„æ”¾ç½®æ–¹å¼ä»¥åŠåƒç´ çš„ç€è‰²æ–¹å¼ã€‚   |
| `LineBasicMaterial`    | ç›´çº¿åŸºç¡€æè´¨ï¼Œè¿™ç§æè´¨å¯ä»¥ç”¨äº `THREE.Line` ç›´çº¿å‡ ä½•ä½“ï¼Œç”¨æ¥åˆ›å»ºç€è‰²çš„ç›´çº¿ã€‚   |

### æ¨¡å‹

> `ğŸ“Œ` Three.js æ”¯æŒçš„æ¨¡å‹æ ¼å¼ï¼š3ds (.3ds)ã€amf (.amf)ã€3mf (.3mf)ã€assimp & assimp2json (.assimp |.json)ã€awd (.awd)ã€Babylon (.babylon)ã€BVH (.bvh)ã€Collada(.dae |.xml)ã€OpenCTM (.ctm)ã€draco(.drc)ã€FBX(.fbx)ã€GCode (.gcode)ã€glTF (.gltf)ã€Clara(.json)ã€KMZ(.kmz)ã€LDraw(.mpd)ã€LightWave(.lwo)ã€MD2 (.md2)ã€MMD(.pmd | .vmd)ã€nrrd (.nrrd)ã€obj/obj2 (.obj)ã€pcd (.pcd)ã€PDB(.pdb)ã€PlayCanvas(.json)ã€ply (.ply)ã€prwm(.prwm)ã€sea3d(.sea3d)ã€stl(.stl)ã€vrm(.vrm)ã€vrml(.vrml)ã€vtkã€xç­‰ã€‚

### è´´å›¾

ä¸ºäº†æ¨¡æ‹Ÿæ›´åŠ çœŸå®çš„æ•ˆæœï¼Œå°±è¦ç»™æ¨¡å‹æè´¨æ·»åŠ è´´å›¾ï¼Œè´´å›¾å°±åƒæ¨¡å‹çš„çš®è‚¤ä¸€æ ·ï¼Œä½¿å…¶ä¸‰ç»´æ•ˆæœæ›´ä½³ã€‚æ·»åŠ è´´å›¾çš„åŸç†æ˜¯é€šè¿‡çº¹ç†è´´å›¾åŠ è½½å™¨ `TextureLoader()` å»æ–°åˆ›å»ºä¸€ä¸ªè´´å›¾å¯¹è±¡å‡ºæ¥ï¼Œç„¶åå†å»è°ƒç”¨é‡Œé¢çš„ `load()` æ–¹æ³•å»åŠ è½½ä¸€å¼ å›¾ç‰‡ï¼Œè¿™æ ·å°±ä¼šè¿”å›ä¸€ä¸ªçº¹ç†å¯¹è±¡ï¼Œçº¹ç†å¯¹è±¡å¯ä»¥ä½œä¸ºæ¨¡å‹æè´¨é¢œè‰²è´´å›¾ `map` å±æ€§çš„å€¼ï¼Œæè´¨çš„é¢œè‰²è´´å›¾å±æ€§ `map` è®¾ç½®åï¼Œæ¨¡å‹ä¼šä»çº¹ç†è´´å›¾ä¸Šé‡‡é›†åƒç´ å€¼ã€‚ä¸‹é¢åˆ—å‡ºäº†å‡ ç§å¸¸ç”¨çš„è´´å›¾ç±»å‹ä»¥åŠåŠ è½½è´´å›¾çš„åŸºæœ¬æµç¨‹ã€‚

- `map`ï¼šæè´¨è´´å›¾
- `normalMap`ï¼šæ³•çº¿è´´å›¾
- `bumpMap`ï¼šå‡¹å‡¸è´´å›¾
- `envMap`ï¼šç¯å¢ƒè´´å›¾
- `specularMap`ï¼šé«˜å…‰è´´å›¾
- `lightMap`ï¼šå…‰ç…§è´´å›¾

### åŠ¨ç”»

- åŸºç¡€åŠ¨ç”»
- ç›¸æœºæ§åˆ¶
- å˜å½¢åŠ¨ç”»
- ç”¨éª¨éª¼å’Œè’™çš®åˆ¶ä½œåŠ¨ç”»
- ä½¿ç”¨å¤–éƒ¨æ¨¡å‹åˆ›å»ºåŠ¨ç”»

## æ¨¡å‹å…‰æºç»“åˆç”Ÿæˆæ˜æš—å˜åŒ–çš„åˆ›æ„é¡µé¢-å…‰ä¸å½±ä¹‹è¯—

### æ¸²æŸ“ç¼–ç outputEncoding

`outputEncoding` å±æ€§æ§åˆ¶è¾“å‡ºæ¸²æŸ“ç¼–ç ã€‚

- é»˜è®¤æƒ…å†µä¸‹ï¼Œå€¼ä¸º `THREE.LinearEncoding`ï¼Œè¿™ç§çº¿æ€§ç¼–ç çš„ç¼ºç‚¹æ˜¯çœ‹èµ·æ¥ä¸å¤ŸçœŸå®ã€‚
- æ­¤æ—¶å¯ä»¥å°†å€¼è®¾ç½®ä¸º `THREE.sRGBEncoding` æå‡æ¸²æŸ“è¾“å‡ºæ•ˆæœçš„çœŸå®æ€§ã€‚
- æ­¤å¤–è¿˜æœ‰å¦ä¸€ä¸ªå¯é€‰å±æ€§å€¼ä¸º `THREE.GammaEncoding`ï¼Œå®ƒæ˜¯ä¸€ç§å­˜å‚¨é¢œè‰²çš„æ–¹æ³•, è¿™ç§ç¼–ç çš„ä¼˜ç‚¹åœ¨äºå®ƒå…ä½¿ç”¨ä¸€ç§è¡¨ç°åƒäº®åº¦çš„ `gammaFactor` å€¼ï¼Œæ ¹æ®äººçœ¼çš„æ•æ„Ÿåº¦ä¼˜åŒ–æ˜æš—å€¼çš„å­˜å‚¨æ–¹å¼ã€‚å½“ä½¿ç”¨ `sRGBEncoding` æ—¶ï¼Œå…¶å®å°±åƒä½¿ç”¨é»˜è®¤ `gammaFactor` å€¼ä¸º `2.2` çš„ `GammaEncoding`ã€‚

### THREE.LoadingManager

å…¶åŠŸèƒ½æ˜¯å¤„ç†å¹¶è·Ÿè¸ªå·²åŠ è½½å’Œå¾…å¤„ç†çš„æ•°æ®ã€‚å¦‚æœæœªæ‰‹åŠ¨è®¾ç½®åŠ å¼ºç®¡ç†å™¨ï¼Œåˆ™ä¼šä¸ºåŠ è½½å™¨åˆ›å»ºå’Œä½¿ç”¨é»˜è®¤å…¨å±€å®ä¾‹åŠ è½½å™¨ç®¡ç†å™¨ã€‚ä»¥ä¸‹æ˜¯åŠ è½½å™¨çš„åŸºæœ¬ä½¿ç”¨æ–¹æ³•ï¼š

```js
// åˆå§‹åŒ–åŠ è½½å™¨
const manager = new THREE.LoadingManager(); 

// æ­¤å‡½æ•°åœ¨åŠ è½½å¼€å§‹æ—¶è¢«è°ƒç”¨
manager.onStart = function ( url, itemsLoaded, itemsTotal ) {
  console.log( 'Started loading file: ' + url + '.\nLoaded ' + itemsLoaded + ' of ' + itemsTotal + ' files.' );
}; 

// æ‰€æœ‰çš„é¡¹ç›®åŠ è½½å®Œæˆåå°†è°ƒç”¨æ­¤å‡½æ•°ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè¯¥å‡½æ•°æ˜¯æœªå®šä¹‰çš„ï¼Œé™¤éåœ¨æ„é€ å‡½æ•°ä¸­ä¼ å…¥
manager.onLoad = function ( ) {
  console.log( 'Loading complete!');
}; 

// æ­¤æ–¹æ³•åŠ è½½æ¯ä¸€ä¸ªé¡¹ï¼ŒåŠ è½½å®Œæˆæ—¶è¿›è¡Œè°ƒç”¨
manager.onProgress = function ( url, itemsLoaded, itemsTotal ) {
  console.log( 'Loading file: ' + url + '.\nLoaded ' + itemsLoaded + ' of ' + itemsTotal + ' files.' );
}; 

// æ­¤æ–¹æ³•å°†åœ¨ä»»æ„é¡¹åŠ è½½é”™è¯¯æ—¶ï¼Œè¿›è¡Œè°ƒç”¨
manager.onError = function ( url ) {
  console.log( 'There was an error loading ' + url );
};
const loader = new THREE.OBJLoader( manager ); 

// åŠ è½½æ¨¡å‹
loader.load('file.obj', function (object) {});
```

### è¡¥é—´åŠ¨ç”»TWEEN

`Tween.js` æ˜¯é™„åŠ åœ¨ `Three.js` åº“ä¸­çš„ä¸€ä¸ªæ‰©å……åŠ¨ç”»åº“ï¼Œå®ƒå¯ä»¥å¹³æ»‘çš„ä¿®æ”¹å…ƒç´ çš„å±æ€§å€¼ï¼Œä½¿ä¸€ä¸ªå¯¹è±¡åœ¨ä¸€å®šæ—¶é—´å†…ä»ä¸€ä¸ªçŠ¶æ€ç¼“åŠ¨å˜åŒ–åˆ°å¦å¤–ä¸€ä¸ªçŠ¶æ€ï¼Œé…åˆåŠ¨ç”»å‡½æ•°å®ç°ä¸æ»‘çš„åŠ¨ç”»æ•ˆæœ`TWEEN.js` æœ¬è´¨å°±æ˜¯ä¸€ç³»åˆ—ç¼“åŠ¨å‡½æ•°ç®—æ³•ï¼Œç»“åˆ`Canvas`ã€`Three.js` å¾ˆç®€å•å°±èƒ½å®ç°å¾ˆå¤šåŠ¨ç”»æ•ˆæœã€‚ç¤ºä¾‹ä¸­å°†å¤šæ¬¡ä½¿ç”¨å®ƒå®ç°åˆ›æ„çš„åŠ¨ç”»æ•ˆæœã€‚

**åŸºæœ¬ä½¿ç”¨**ï¼š

```js
var tween = new TWEEN.Tween({x: 1})     // position: {x: 1}
.delay(100)                             // ç­‰å¾…100ms
.to({x: 200}, 1000)                     // 1sæ—¶é—´ï¼Œxåˆ°200
.onUpdate(render)                       // å˜æ›´æœŸé—´æ‰§è¡Œrenderæ–¹æ³•
.onComplete(() => {})                   // åŠ¨ç”»å®Œæˆ
.onStop(() => {})                       // åŠ¨ç”»åœæ­¢
.start();                               // å¼€å¯åŠ¨ç”»
```

è¦è®©åŠ¨ç”»çœŸæ­£åŠ¨èµ·æ¥ï¼Œéœ€è¦åœ¨ `requestAnimationFrame` ä¸­è°ƒç”¨ `update` æ–¹æ³•ã€‚

```js
TWEEN.update()
```

### DRACOLoader

- `DRACOLoader` æ˜¯ä½¿ç”¨ `Draco` åº“å‹ç¼©çš„å‡ ä½•å›¾å½¢åŠ è½½å™¨ã€‚
- `Draco` æ˜¯ä¸€ä¸ªå¼€æºåº“ï¼Œç”¨äºå‹ç¼©å’Œè§£å‹ç¼© `3D` ç½‘æ ¼å’Œç‚¹äº‘ã€‚å‹ç¼©åçš„å‡ ä½•å›¾å½¢å¯ä»¥æ˜æ˜¾æ›´å°ï¼Œä»£ä»·æ˜¯å®¢æˆ·ç«¯è®¾å¤‡ä¸Šçš„é¢å¤–è§£ç æ—¶é—´ã€‚
- ç‹¬ç«‹çš„ `Draco` æ–‡ä»¶å…·æœ‰ `.drc` æ‰©å±•åï¼Œå¹¶åŒ…å«é¡¶ç‚¹ä½ç½®ã€æ³•çº¿ã€é¢œè‰²å’Œå…¶ä»–å±æ€§ã€‚ `Draco` æ–‡ä»¶ä¸åŒ…å«æè´¨ã€çº¹ç†ã€åŠ¨ç”»æˆ–èŠ‚ç‚¹å±‚æ¬¡ç»“æ„ï¼Œè¦ä½¿ç”¨è¿™äº›åŠŸèƒ½ï¼Œéœ€è¦å°† `Draco` å‡ ä½•å›¾å½¢åµŒå…¥åˆ° `glTF` æ–‡ä»¶ä¸­ã€‚ å¯ä»¥ä½¿ç”¨ `glTF-Pipeline` å°†æ™®é€šçš„ `glTF` æ–‡ä»¶è½¬æ¢ä¸º `Draco` å‹ç¼©çš„ `glTF` æ–‡ä»¶ã€‚ å½“ä½¿ç”¨å¸¦æœ‰ `glTF` çš„ `Draco` æ—¶ï¼Œ`GLTFLoader` å°†åœ¨å†…éƒ¨ä½¿ç”¨ `DRACOLoader` çš„å®ä¾‹ã€‚
- `DRACOLoader` ä¾èµ–äº `IE11` ä¸æ”¯æŒçš„ `ES6 Promises`ï¼Œè¦åœ¨ `IE11` ä¸­ä½¿ç”¨åŠ è½½å™¨ï¼Œå¿…é¡»åŒ…å«ä¸€ä¸ªæä¾› `Promise` æ›¿æ¢çš„ `polyfill`ã€‚
- å¼€æº `3D` å»ºæ¨¡å·¥å…· `Blender` å¯ä»¥ç”Ÿæˆä½¿ç”¨ `Draco` å‹ç¼©è¿‡çš„æ¨¡å‹ã€‚

### THREE.Clock

æœ¬æ–‡ä¸­ä½¿ç”¨ `Clock` æä¾›çš„ `getElapsedTime` æ–¹æ³•æ¥è·å–é¡µé¢é‡ç»˜ä¸¤å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ã€‚ `Clock` æœ¬è´¨ä¸Šå°±æ˜¯å¯¹ `Date` è¿›è¡Œå°è£…ï¼Œæä¾›äº†ä¸€äº›æ–¹æ³•å’Œå±æ€§ï¼Œåœ¨ `Three.js` ä½¿ç”¨è¿‡ç¨‹ä¸­æ¶‰åŠåˆ°æ—¶é—´ç›¸å…³çš„æ–¹æ³•æ—¶ä¸ç”¨å¯¹ `Date` è¿›è¡Œå°è£…ï¼Œç›´æ¥ä½¿ç”¨ `Clock` æä¾›çš„æ–¹æ³•å³å¯ã€‚åœ¨éª¨éª¼åŠ¨ç”»ã€å˜å½¢åŠ¨ç”»ã€ç²’å­åŠ¨ç”»ç­‰åŠŸèƒ½çš„å¼€å‘ä¸­å¸¸å¸¸éœ€è¦è°ƒç”¨ `Clock` çš„æ–¹æ³•ã€‚

**ä¸¤ä¸ªå¸¸ç”¨æ–¹æ³•**ï¼š

- `getElapsedTime()`ï¼šè·å–è‡ªæ—¶é’Ÿå¯åŠ¨åçš„ç§’æ•°ï¼ŒåŒæ—¶å°† `.oldTime` è®¾ç½®ä¸ºå½“å‰æ—¶é—´ã€‚ å¦‚æœ `.autoStart` è®¾ç½®ä¸º `true` ä¸”æ—¶é’Ÿå¹¶æœªè¿è¡Œï¼Œåˆ™è¯¥æ–¹æ³•åŒæ—¶å¯åŠ¨æ—¶é’Ÿã€‚
- `getDelta()`ï¼šè·å–è‡ª `.oldTime` è®¾ç½®ååˆ°å½“å‰çš„ç§’æ•°ã€‚ åŒæ—¶å°† `.oldTime` è®¾ç½®ä¸ºå½“å‰æ—¶é—´ã€‚ å¦‚æœ `.autoStart` è®¾ç½®ä¸º `true` ä¸”æ—¶é’Ÿå¹¶æœªè¿è¡Œï¼Œåˆ™è¯¥æ–¹æ³•åŒæ—¶å¯åŠ¨æ—¶é’Ÿã€‚

### Intersection Observer

- æœ¬æ–‡ä¸­ä½¿ç”¨ `Intersection Observer` æ¥è¾¨è¯†å½“å‰å¤„äºå“ªä¸ªé¡µé¢ä»¥æ›´æ–°ç›¸æœºä½ç½®ã€‚
- `IntersectionObserver` æ¥å£æä¾›äº†ä¸€ç§å¼‚æ­¥è§‚å¯Ÿç›®æ ‡å…ƒç´ ä¸å…¶ç¥–å…ˆå…ƒç´ æˆ–é¡¶çº§æ–‡æ¡£è§†çª— `viewport` äº¤å‰çŠ¶æ€çš„æ–¹æ³•ã€‚
- å¯ä»¥ä½¿ç”¨å®ƒæ¥æ£€æµ‹å…ƒç´ åœ¨é¡µé¢ä¸Šçš„å¯è§†çŠ¶æ€æˆ–è€…ä¸¤ä¸ªå…ƒç´ ä¹‹é—´çš„ç›¸å¯¹å¯è§†çŠ¶æ€ã€‚åº”ç”¨è¿™ä¸€ç‰¹æ€§å¯ä»¥ç”¨å®ƒæ¥å®ç°é¡µé¢æ»šåŠ¨åŠ è½½ã€å›¾ç‰‡æ‡’åŠ è½½ç­‰åŠŸèƒ½ã€‚

## ç²’å­ç³»ç»Ÿ

### ç²¾çµæè´¨ THREE.SpriteMaterial

`THREE.SpriteMatrial` å¯¹è±¡çš„ä¸€äº›å¯ä¿®æ”¹å±æ€§åŠå…¶è¯´æ˜ã€‚

- `color`ï¼šç²’å­çš„é¢œè‰²ã€‚
- `map`ï¼šç²’å­æ‰€ç”¨çš„çº¹ç†ï¼Œå¯ä»¥æ˜¯ä¸€ç»„ `sprite sheet`ã€‚
- `sizeAttenuation`ï¼šå¦‚æœè¯¥å±æ€§è®¾ç½®ä¸º `false`ï¼Œé‚£ä¹ˆè·ç¦»æ‘„åƒæœºçš„è¿œè¿‘ä¸å½±å“ç²’å­çš„å¤§å°ï¼Œé»˜è®¤å€¼ä¸º `true`ã€‚
- `opacity`ï¼šè¯¥å±æ€§è®¾ç½®ç²’å­çš„ä¸é€æ˜åº¦ã€‚é»˜è®¤å€¼ä¸º `1`ï¼Œä¸é€æ˜ã€‚
- `blending`ï¼šè¯¥å±æ€§æŒ‡å®šæ¸²æŸ“ç²’å­æ—¶æ‰€ç”¨çš„èåˆæ¨¡å¼ã€‚
- `fog`ï¼šè¯¥å±æ€§å†³å®šç²’å­æ˜¯å¦å—åœºæ™¯ä¸­é›¾åŒ–æ•ˆæœå½±å“ã€‚é»˜è®¤å€¼ä¸º `true`ã€‚

### ç‚¹æè´¨ THREE.PointsMaterial

ä½¿ç”¨ `THREE.PointsMaterial` æ¥æ ·å¼åŒ–ç²’å­ï¼Œå®ƒæ˜¯ `THREE.Points` ä½¿ç”¨çš„é»˜è®¤æè´¨ï¼Œä¸‹é¢åˆ—ä¸¾äº† `THREE.PointsMaterial` ä¸­æ‰€æœ‰å¯è®¾ç½®å±æ€§åŠå…¶è¯´æ˜ã€‚

- `color`: ç²’å­ç³»ç»Ÿä¸­æ‰€æœ‰ç²’å­çš„é¢œè‰²ã€‚å°† `vertexColors` å±æ€§è®¾ç½®ä¸º `true`ï¼Œå¹¶ä¸”é€šè¿‡é¢œè‰²å±æ€§æŒ‡å®šäº†å‡ ä½•ä½“çš„é¢œè‰²æ¥è¦†ç›–è¯¥å±æ€§ã€‚é»˜è®¤å€¼ä¸º `0xFFFFFF`ã€‚
- `map`: é€šè¿‡è¿™ä¸ªå±æ€§å¯ä»¥åœ¨ç²’å­æè´¨ï¼Œæ¯”å¦‚å¯ä»¥ä½¿ç”¨ `canvas`ã€è´´å›¾ç­‰ã€‚
- `size`ï¼šè¯¥å±æ€§æŒ‡å®šç²’å­çš„å¤§å°ï¼Œé»˜è®¤å€¼ä¸º `1`ã€‚
- `sizeAnnutation`: å¦‚æœè¯¥å±æ€§è®¾ç½®ä¸º `false`ï¼Œé‚£ä¹ˆæ‰€æœ‰çš„ç²’å­éƒ½å°†æ‹¥æœ‰ç›¸åŒçš„å°ºå¯¸ï¼Œæ— è®ºå®ƒä»¬è·ç¦»ç›¸æœºæœ‰å¤šè¿œã€‚å¦‚æœè®¾ç½®ä¸º `true`ï¼Œç²’å­çš„å¤§å°å–å†³äºå…¶è·ç¦»æ‘„åƒæœºçš„è·ç¦»çš„è¿œè¿‘ï¼Œé»˜è®¤å€¼ä¸º`true`ã€‚
- `vertexColors`ï¼šé€šå¸¸ `THREE.Points` ä¸­æ‰€æœ‰çš„ç²’å­éƒ½æ‹¥æœ‰ç›¸åŒçš„é¢œè‰²ï¼Œå¦‚æœè¯¥å±æ€§è®¾ç½®ä¸º `THREE.VertexColors`ï¼Œå¹¶ä¸”å‡ ä½•ä½“çš„é¢œè‰²æ•°ç»„ä¹Ÿæœ‰å€¼ï¼Œé‚£å°±ä¼šä½¿ç”¨é¢œè‰²æ•°ç»„ä¸­çš„å€¼ï¼Œé»˜è®¤å€¼ä¸º `THREE.NoColors`ã€‚
- `opacity`ï¼šè¯¥å±æ€§ä¸ `transparent` å±æ€§ä¸€èµ·ä½¿ç”¨ï¼Œç”¨æ¥è®¾ç½®ç²’å­çš„ä¸é€æ˜åº¦ã€‚é»˜è®¤å€¼ä¸º `1`ï¼ˆå®Œå…¨ä¸é€æ˜ï¼‰ã€‚
- `transparent`ï¼šå¦‚æœè¯¥å±æ€§è®¾ç½®ä¸º `true`ï¼Œé‚£ä¹ˆç²’å­åœ¨æ¸²æŸ“æ—¶ä¼šæ ¹æ® `opacity` å±æ€§çš„å€¼æ¥ç¡®å®šå…¶é€æ˜åº¦ï¼Œé»˜è®¤å€¼ä¸º `false`ã€‚
- `blending`ï¼šè¯¥å±æ€§æŒ‡å®šæ¸²æŸ“ç²’å­æ—¶çš„èåˆæ¨¡å¼ã€‚
- `fog`ï¼šè¯¥å±æ€§å†³å®šç²’å­æ˜¯å¦å—åœºæ™¯ä¸­é›¾åŒ–æ•ˆæœå½±å“ï¼Œé»˜è®¤å€¼ä¸º `true`ã€‚

### dat.GUI

`dat.GUI` æ˜¯ä¸€ä¸ªè½»é‡çº§çš„ `JavaScript` å›¾å½¢ç”¨æˆ·ç•Œé¢æ§åˆ¶åº“ï¼Œå®ƒå¯ä»¥è½»æ¾åœ°å³æ—¶æ“ä½œå˜é‡å’Œè§¦å‘å‡½æ•°ï¼Œé€šè¿‡è®¾å®šå¥½çš„æ§åˆ¶å™¨å»å¿«æ·çš„ä¿®æ”¹è®¾å®šçš„å˜é‡ã€‚ä¸‹é¢æ˜¯å®ƒçš„ä¸€äº›åŸºæœ¬ä½¿ç”¨æ–¹æ³•ï¼š

```js
// åˆå§‹åŒ–
const gui = new dat.GUI({ name: 'name'});
// åˆå§‹åŒ–æ§ä»¶å±æ€§
const ctrls = {
  name: 'acqui',
  speed: 0.5,
  color1: '#FF0000',
  color2: [0, 128, 255],
  color3: [0, 128, 255, 0.3],
  color4: { h: 350, s: 0.9, v: 0.3 },
  test: ',
  test2: ',
  cb: () => {},
  gender:true
};
// gui.add(æ§ä»¶å¯¹è±¡å˜é‡åï¼Œå¯¹è±¡å±æ€§åï¼Œå…¶å®ƒå‚æ•°)ï¼Œæ§åˆ¶å­—ç¬¦ç±»å‹æˆ–æ•°å­—
gui.add(ctrls, 'name');
// ç¼©æ”¾åŒºé—´[0,100],å˜åŒ–æ­¥é•¿10
gui.add(ctrls, 'speed', 0, 100, 10);
// åˆ›å»ºä¸€ä¸ªä¸‹æ‹‰é€‰æ‹©
gui.add(ctrls, 'test', { ä½é€Ÿ: 0.005, ä¸­é€Ÿ: 0.01, é«˜é€Ÿ: 0.1 }).name('è½¬é€Ÿ');
gui.add(ctrls, 'test2', ['ä½é€Ÿ', 'ä¸­é€Ÿ', 'é«˜é€Ÿ']).name('è½¬é€Ÿ2');
//  åˆ›å»ºæŒ‰é’®
gui.add(ctrls, 'cb').name('æŒ‰é’®');
gui.add(ctrls, 'gender').name('æ€§åˆ«');
// æ§åˆ¶é¢œè‰²å±æ€§
gui.addColor(ctrls, 'color1');
// é€šè¿‡nameå¯è®¾ç½®åˆ«å
gui.addColor(ctrls, 'color2').name('é¢œè‰²2');
// åˆ›å»ºä¸€ä¸ªFolder
const folder = gui.addFolder('é¢œè‰²ç»„');
folder.addColor(ctrls, 'color3');
folder.addColor(ctrls, 'color4');
// å¯ä»¥é€šè¿‡onChangeæ–¹æ³•æ¥ç›‘å¬æ”¹å˜çš„å€¼ï¼Œä»è€Œä¿®æ”¹æ ·å¼
gui.addColor(ctrls, 'color2').onChange(callback);
```

### Canvasçº¹ç†CanvasTexture

ç”¨äºä»Â `Canvas`Â å…ƒç´ ä¸­åˆ›å»ºçº¹ç†è´´å›¾ã€‚

**æ„é€ å‡½æ•°**:

```js
CanvasTexture(canvas: HTMLElement, mapping: Constant, wrapS: Constant, wrapT: Constant, magFilter: Constant, minFilter: Constant, format: Constant, type: Constant, anisotropy: Number )
```

- `canvas`ï¼šå°†ä¼šè¢«ç”¨äºåŠ è½½çº¹ç†è´´å›¾çš„ `Canvas` å…ƒç´ ã€‚
- `mapping`ï¼šçº¹ç†è´´å›¾å°†è¢«å¦‚ä½•åº”ç”¨åˆ°ç‰©ä½“ä¸Šã€‚
- `wrapS`ï¼šé»˜è®¤å€¼æ˜¯ `THREE.ClampToEdgeWrapping`ã€‚
- `wrapT`ï¼šé»˜è®¤å€¼æ˜¯ `THREE.ClampToEdgeWrapping`ã€‚
- `magFilter`ï¼šå½“ä¸€ä¸ªçº¹ç´ è¦†ç›–å¤§äºä¸€ä¸ªåƒç´ æ—¶è´´å›¾å°†å¦‚ä½•é‡‡æ ·ï¼Œé»˜è®¤å€¼ä¸º `THREE.LinearFilter`ã€‚
- `minFilter`ï¼šå½“ä¸€ä¸ªçº¹ç´ è¦†ç›–å°äºä¸€ä¸ªåƒç´ æ—¶è´´å›¾å°†å¦‚ä½•é‡‡æ ·ï¼Œé»˜è®¤å€¼ä¸º `THREE.LinearMipmapLinearFilter`ã€‚
- `format`ï¼šåœ¨çº¹ç†è´´å›¾ä¸­ä½¿ç”¨çš„æ ¼å¼ã€‚
- `type`ï¼šé»˜è®¤å€¼æ˜¯ `THREE.UnsignedByteType`ã€‚
- `anisotropy`ï¼šæ²¿ç€è½´ï¼Œé€šè¿‡å…·æœ‰æœ€é«˜çº¹ç´ å¯†åº¦çš„åƒç´ çš„æ ·æœ¬æ•°ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œè¿™ä¸ªå€¼ä¸º `1`ã€‚è®¾ç½®ä¸€ä¸ªè¾ƒé«˜çš„å€¼å°†ä¼šäº§ç”Ÿæ¯”åŸºæœ¬çš„ `mipmap` æ›´æ¸…æ™°çš„æ•ˆæœï¼Œä»£ä»·æ˜¯éœ€è¦ä½¿ç”¨æ›´å¤šçº¹ç†æ ·æœ¬ã€‚

**å±æ€§å’Œæ–¹æ³•**ï¼š

- `.isCanvasTexture[Boolean]`ï¼šæ£€æŸ¥æ˜¯å¦æ˜¯ `CanvasTexture` ç±»å‹çº¹ç†çš„åªè¯»å±æ€§ã€‚
- `.needsUpdate[Boolean]`ï¼šæ˜¯å¦éœ€è¦æ›´æ–°ï¼Œé»˜è®¤å€¼ä¸º `true`ï¼Œä»¥ä¾¿ä½¿å¾— `Canvas`ä¸­çš„æ•°æ®èƒ½å¤Ÿè½½å…¥ã€‚
- å…¶ä»–å±æ€§å’Œæ–¹æ³•ç»§æ‰¿äº `Texture`ã€‚

### é›¾åŒ–æ•ˆæœFogå’ŒFogExp2

ä¸ºäº†å¢å¼ºåœºæ™¯çš„çœŸå®æ€§ï¼Œç¤ºä¾‹ä¸­ä½¿ç”¨äº† `FogExp2` é›¾åŒ–æ•ˆæœï¼Œé‚£ä¹ˆ `THREE.Fog` å’Œ `THREE.FogExp2` æœ‰ä»€ä¹ˆä¸åŒå‘¢ï¼Ÿ

- **é›¾Fog**
  - å®šä¹‰ï¼šè¡¨ç¤ºçº¿æ€§é›¾ï¼Œé›¾çš„å¯†åº¦æ˜¯éšç€è·ç¦»çº¿æ€§å¢å¤§çš„ï¼Œå³åœºæ™¯ä¸­ç‰©ä½“é›¾åŒ–æ•ˆæœéšç€éšè·ç¦»çº¿æ€§å˜åŒ–ã€‚
  - æ„é€ å‡½æ•°ï¼š`Fog(color, near, far)`
    - `.color`ï¼šè¡¨ç¤ºé›¾çš„é¢œè‰²ï¼Œåœºæ™¯ä¸­è¿œå¤„ç‰©ä½“ä¸ºé»‘è‰²ï¼Œåœºæ™¯ä¸­æœ€è¿‘å¤„è·ç¦»ç‰©ä½“æ˜¯è‡ªèº«é¢œè‰²ï¼Œæœ€è¿œå’Œæœ€è¿‘ä¹‹é—´çš„ç‰©ä½“é¢œè‰²æ˜¯ç‰©ä½“æœ¬èº«é¢œè‰²å’Œé›¾é¢œè‰²çš„æ··åˆæ•ˆæœã€‚
    - `.near`ï¼šè¡¨ç¤ºåº”ç”¨é›¾åŒ–æ•ˆæœçš„æœ€å°è·ç¦»ï¼Œè·ç¦»æ´»åŠ¨æ‘„åƒæœºé•¿åº¦å°äº `.near` çš„ç‰©ä½“å°†ä¸ä¼šè¢«é›¾æ‰€å½±å“ã€‚
    - `.far`ï¼š è¡¨ç¤ºåº”ç”¨é›¾åŒ–æ•ˆæœçš„æœ€å¤§è·ç¦»ï¼Œè·ç¦»æ´»åŠ¨æ‘„åƒæœºé•¿åº¦å¤§äº `.far` çš„ç‰©ä½“å°†ä¸ä¼šè¢«é›¾æ‰€å½±å“ã€‚
- **æŒ‡æ•°é›¾FogExp2**
  - å®šä¹‰ï¼šè¡¨ç¤ºæŒ‡æ•°é›¾ï¼Œå³é›¾çš„å¯†åº¦éšç€è·ç¦»æŒ‡æ•°è€Œå¢å¤§ã€‚
  - æ„é€ å‡½æ•°ï¼š`FogExp2(color, density)`
    - `.color`ï¼šè¡¨ç¤ºé›¾çš„é¢œè‰²ã€‚
    - `.density`ï¼šè¡¨ç¤ºé›¾çš„å¯†åº¦çš„å¢é€Ÿï¼Œé»˜è®¤å€¼ä¸º `0.00025`ã€‚

## åæœŸå¤„ç†

### three.js åæœŸå¤„ç†é€šé“æ±‡æ€»

ä¸‹é¢åˆ—ä¸¾äº† `Three.js` ä¸­å†…ç½®çš„ä¸€äº›åæœŸå¤„ç†é€šé“ï¼Œæˆ‘ä»¬åœ¨å¼€å‘å®Œé¡µé¢ä¼˜åŒ–è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥é€‰æ‹©åˆé€‚çš„é€šé“ç»™é¡µé¢åœºæ™¯æ·»åŠ åæœŸæ»¤é•œã€‚å®ƒä»¬çš„å…·ä½“ç”¨æ³•å¯ä»¥æŸ¥çœ‹æœ¬æ–‡æœ€åçš„**é™„å½•**ï¼Œåœ¨é™„å½•ä¸­æˆ‘æ€»ç»“æ±‡æ€»äº†å®ƒä»¬çš„æ„é€ å‡½æ•°ã€å‚æ•°å«ä¹‰ã€å±æ€§ã€ç¤ºä¾‹ç­‰åŸºæœ¬ç”¨æ³•ã€‚ä¸å¹¸çš„æ˜¯ï¼Œ`Three.js` å¯¹å¤§å¤šæ•°åæœŸå¤„ç†æ•ˆæœéƒ½æ²¡æœ‰ç»™å‡ºè¯¦ç»†çš„ä½¿ç”¨æ–‡æ¡£ï¼Œå¦‚æœæƒ³è¦å®Œå…¨äº†è§£å®ƒä»¬ï¼Œå°±å¿…é¡»ä»”ç»†é˜…è¯»[å®˜ç½‘æ–‡æ¡£](https://threejs.org/examples/#webgl_animation_keyframes)æä¾›çš„ç¤ºä¾‹æˆ–è€…æºç ï¼Œå¯ä»¥åœ¨æ–‡æ¡£ä¸­é€šè¿‡ `postprocessing` è¿›è¡Œæ£€ç´¢ã€‚

- `AdaptiveToneMappingPass`ï¼šè¯¥é€šé“å¯ä»¥æ ¹æ®åœºæ™¯çš„å…‰ç…§åº¦è‡ªåŠ¨è°ƒèŠ‚åœºæ™¯çš„äº®åº¦ã€‚
- `BloomPass`ï¼šè¯¥é€šé“é€šè¿‡å¢å¼ºåœºæ™¯ä¸­æ˜äº®çš„åŒºåŸŸæ¥æ¨¡æ‹ŸçœŸå®ä¸–ç•Œä¸­çš„æ‘„åƒæœºã€‚
- `BokehPass`ï¼šè¯¥é€šé“å¯ä»¥å®ç°ç±»ä¼¼å¤§å…‰åœˆé•œå¤´çš„æ™¯æ·±æ•ˆæœã€‚
- `ClearPass`ï¼šè¯¥é€šé“æ¸…ç©ºå½“å‰çº¹ç†ç¼“å­˜ã€‚
- `CubeTexturePass`ï¼šç”¨äºæ¸²æŸ“å¤©ç©ºç›’ã€‚
- `DotScreenPass`ï¼šå°†é»‘ç‚¹å›¾å±‚åº”ç”¨äºå±å¹•çš„åŸå§‹å›¾ç‰‡ä¸Šã€‚
- `FilmPass`ï¼šé€šè¿‡æ‰«æçº¿å’Œå¤±çœŸæ¥æ¨¡æ‹Ÿç”µè§†å±å¹•æ•ˆæœã€‚
- `GlitchPass`ï¼šéšæœºåœ¨å±å¹•ä¸Šæ˜¾ç¤ºç”µè„‰å†²ã€‚
- `HalftonePass`ï¼šç”¨äºæ¨¡æ‹Ÿä¼ ç»Ÿå°åˆ·æœ¯çš„åŠè‰²è°ƒæ•ˆæœã€‚
- `MaskPass`ï¼šåœ¨å›¾ç‰‡ä¸Šæ˜¾ç¤ºæ©ç ï¼Œåç»­é€šé“åªä¼šå½±å“åˆ°æ©ç åŒºåŸŸã€‚
- `OutlinePass`ï¼šå‹¾å‹’å‡ºåœºæ™¯ä¸­çš„ç‰©ä½“è½®å»“ã€‚
- `RenderPass`ï¼šåœ¨å½“å‰åœºæ™¯å’Œæ‘„åƒæœºçš„åŸºç¡€ä¸Šæ¸²æŸ“å‡ºä¸€ä¸ªæ–°åœºæ™¯ã€‚
- `SAOPass`ï¼šå®ç°å®æ—¶ç¯å¢ƒå…‰é®æŒ¡æ•ˆæœã€‚
- `SMAAPass`ï¼šå…¨å±åé”¯é½¿æ•ˆæœã€‚
- `SSAARenderPass`ï¼šä½¿ç”¨å¦ä¸€ç§ç®—æ³•å®ç°å…¨å±åé”¯é½¿æ•ˆæœã€‚
- `SSAOPass`ï¼šä½¿ç”¨å¦ä¸€ç§ç®—æ³•å®ç°å®æ—¶ç¯å¢ƒå…‰é®æŒ¡æ•ˆæœ
- `SavePass`ï¼šè¯¥é€šé“æ‰§è¡Œæ—¶ä¼šèµ‹å€¼å½“å‰æ¸²æŸ“ç»“æœï¼Œåœ¨åç»­æ­¥éª¤ä¸­å¯ä»¥ä½¿ç”¨ã€‚
- `ShaderPass`ï¼šè‡ªå®šä¹‰ç€è‰²å™¨é€šé“ï¼Œå¯ä»¥ä¼ å…¥è‡ªå®šä¹‰ç€è‰²å™¨ä½œä¸ºå‚æ•°ï¼Œä»¥ç”Ÿæˆä¸€ä¸ªé«˜çº§ã€è‡ªå®šä¹‰çš„åæœŸå¤„ç†é€šé“ã€‚
- `TAARenderPass`ï¼šä¹Ÿæ˜¯ä¸€ä¸ªå…¨å±åé”¯é½¿æ•ˆæœã€‚
- `TexturePass`ï¼šå°†åˆæˆå™¨çš„å½“å‰çŠ¶æ€ä¿å­˜ä¸ºçº¹ç†ï¼Œç„¶åå°†å…¶ä½œä¸ºå‚æ•°ä¼ å…¥åˆ°å…¶ä»–çš„ `EffectComposer` ç»„åˆå™¨ä¸­ã€‚
- `UnrealBloomPass`ï¼šè¯¥é€šé“ä¸ `Bloom` ç±»ä¼¼ï¼Œä½†æ˜¯å®ƒå®ç°çš„æ•ˆæœæ›´æ¥è¿‘äºè™šå¹»å¼•æ“çš„ `Bloom` æ•ˆæœã€‚

## media

### AudioListener

**å±æ€§**ï¼š

- `.context[AudioContext]`ï¼š`listener` æ„é€ å‡½æ•°ä¸­çš„ `AudioContext`ã€‚
- `.gain[GainNode]`ï¼šä½¿ç”¨ `AudioContext.createGain()` åˆ›å»º `GainNode`ã€‚
- `.filter[AudioNode]`ï¼šé»˜è®¤ä¸º `null`ã€‚
- `.timeDelta[Number]`ï¼š`audio` å®ä½“çš„æ—¶é—´å·®å€¼ï¼Œé»˜è®¤æ˜¯ `0`ã€‚

**æ–¹æ³•**ï¼š

- `.getInput()`ï¼šè¿”å› `gainNode`ã€‚
- `.removeFilter()`ï¼šè®¾ç½® `filter` å±æ€§ä¸º `null`ã€‚
- `.getFilter()`ï¼šè¿”å›filterå±æ€§çš„å€¼ã€‚
- `.setFilter(value: AudioNode)`ï¼šè®¾ç½® `filter` å±æ€§çš„å€¼ã€‚
- `.getMasterVolume()`: è¿”å›éŸ³é‡ã€‚
- `.setMasterVolume(value: Number)`ï¼šè®¾ç½®éŸ³é‡ã€‚

## å…¨æ™¯å›¾å®ç°ä¸‰ç»´å…¨æ™¯åŠŸèƒ½

### çƒä½“

åœ¨çƒä½“å†…æ·»åŠ Â `HDR`Â å…¨æ™¯ç…§ç‰‡å¯ä»¥å®ç°ä¸‰ç»´å…¨æ™¯åŠŸèƒ½ï¼Œå…¨æ™¯ç…§ç‰‡æ˜¯ä¸€å¼ ç”¨çƒå½¢ç›¸æœºæ‹æ‘„çš„å›¾ç‰‡ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

```js
const geometry = new THREE.SphereGeometry(500, 60, 40);
geometry.scale(- 1, 1, 1);
const texture = new THREE.TextureLoader().load( 'textures/hdr.jpg');
const material = new THREE.MeshBasicMaterial({ map: texture });
const mesh = new THREE.Mesh(geometry, material);
scene.add(mesh);
```

![](D:\project\docs\threejs-imgs\threejs-panorama-sphere-1.png)

> `ğŸ”—`Â [çƒä½“å…¨æ™¯å›¾ Three.js å®˜æ–¹ç¤ºä¾‹](https://threejs.org/examples/?q=panorama#webgl_panorama_equirectangular)

### ç«‹æ–¹ä½“

åœ¨ç«‹æ–¹ä½“å†…æ·»åŠ å…¨æ™¯å›¾è´´å›¾çš„æ–¹å¼ä¹Ÿå¯ä»¥å®ç°ä¸‰ç»´å…¨æ™¯å›¾åŠŸèƒ½ï¼Œæ­¤æ—¶éœ€è¦å¯¹Â `HDR`Â å…¨æ™¯ç…§ç‰‡è¿›è¡Œè£åˆ‡ï¼Œåˆ†å‰²æˆÂ `6`Â å¼ æ¥åˆ†åˆ«å¯¹åº”ç«‹æ–¹ä½“çš„Â `6`Â ä¸ªé¢ã€‚

```js
const textures = cubeTextureLoader.load([
  '/textures/px.jpg',
  '/textures/nx.jpg',
  '/textures/py.jpg',
  '/textures/ny.jpg',
  '/textures/pz.jpg',
  '/textures/nz.jpg'
]);

const materials = [];
for ( let i = 0; i < 6; i ++ ) {
  materials.push( new THREE.MeshBasicMaterial( { map: textures[ i ] } ) );
}
const skyBox = new THREE.Mesh( new THREE.BoxGeometry( 1, 1, 1 ), materials );
skyBox.geometry.scale( 1, 1, - 1 );
scene.add( skyBox );
```

![](D:\project\docs\threejs-imgs\threejs-panorama-cube-1.png)

> `ğŸ”—`Â [ç«‹æ–¹ä½“å…¨æ™¯å›¾ Three.js å®˜æ–¹ç¤ºä¾‹](https://threejs.org/examples/?q=panorama#webgl_panorama_cube)

### ç¯å¢ƒè´´å›¾

ä½¿ç”¨ç¯å¢ƒè´´å›¾ä¹Ÿå¯ä»¥å®ç°å…¨æ™¯å›¾åŠŸèƒ½ï¼Œåƒä¸‹é¢è¿™æ ·åŠ è½½å…¨æ™¯å›¾ç‰‡ï¼Œç„¶åå°†å®ƒèµ‹å€¼ç»™Â `scene.background`Â å’ŒÂ `scene.environment`Â å³å¯ï¼š

```js
const environmentMap = cubeTextureLoader.load([
    '/textures/px.jpg',
    '/textures/nx.jpg',
    '/textures/py.jpg',
    '/textures/ny.jpg',
    '/textures/pz.jpg',
    '/textures/nz.jpg'
]);
environmentMap.encoding = THREE.sRGBEncoding;
scene.background = environmentMap;
scene.environment = environmentMap;
```

### å…¶ä»–

é™¤äº†ä½¿ç”¨ `Three.js` è‡ªå·±å®ç°å…¨æ™¯å›¾åŠŸèƒ½ä¹‹å¤–ï¼Œä¹Ÿæœ‰ä¸€äº›å…¶ä»–åŠŸèƒ½å®Œå¤‡çš„å…¨æ™¯å›¾åº“å¯ä»¥å¾ˆæ–¹ä¾¿çš„å®ç°ä¸‰ç»´å…¨æ™¯åœºæ™¯ï¼Œæ¯”å¦‚ä¸‹é¢å‡ ä¸ªå°±æ¯”è¾ƒä¸é”™ï¼Œå…¶ä¸­åä¸¤ä¸ªæ˜¯ `GUI` å®¢æˆ·ç«¯ï¼Œå¯ä»¥åœ¨å®¢æˆ·ç«¯å†…éå¸¸æ–¹ä¾¿çš„åœ¨å…¨æ™¯å›¾ä¸Šæ·»åŠ äº¤äº’çƒ­ç‚¹ã€å®ç°å¤šä¸ªåœºæ™¯çš„æ¼«æ¸¸è·¯å¾„ç­‰ï¼Œå¤§å®¶æ„Ÿå…´è¶£çš„è¯éƒ½å¯ä»¥è¯•è¯•ã€‚

- [panolens.js](https://github.com/pchen66/panolens.js)
- [pannellum](https://github.com/mpetroff/pannellum)
- [Photo-Sphere-Viewer](https://github.com/JeremyHeleine/Photo-Sphere-Viewer)
- [krpano](https://krpano.com/home/)
- [Pano2VR](https://ggnome.com/pano2vr/)

![](D:\project\docs\threejs-imgs\threejs-panorama-other-1.png)
